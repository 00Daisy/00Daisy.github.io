[{"categories":null,"content":"What is Abstraction Abstraction refers to the process of simplifying a complex system, data, or computation into a more understandable and manageable model or concept. Through abstraction, programmers can hide unnecessary details in a system and provide a concise and easy-to-use interface for other program modules or users.\nFor example, when designing a library system, we can abstract the concept of â€œbookâ€ without considering the specific details such as size, weight, and shape. This simplifies the system design and provides a clearer interface for users to manage library resources.\nAbstraction is a crucial concept in programming because it can improve code readability, reusability, and maintainability. It is also a core principle in object-oriented programming, where data and operations are separated, and an abstraction layer is provided to hide implementation details.\nThere are several methods to achieve abstraction:\n  Classes: Using classes can encapsulate related data and operations to form an abstract class. Users only need to know the interface and usage of this class without understanding the specific implementation details.\n  Interfaces: Interfaces define a collection of operations that are exposed to the outside. Users only need to know the names and parameters of these operations without understanding the specific implementation details. Interfaces can allow different classes to implement the same operation, achieving code reuse.\n  Abstract classes: Abstract classes are classes that cannot be instantiated. They define an interface and some concrete implementations. Users can use the interface of this abstract class without understanding the specific implementation details.\n  Delegation: Delegation is a mechanism that delegates an operation to another object for execution. This can hide implementation details and only expose necessary interfaces.\n  Generics: Generics is a technique that allows programmers to write generic code. Using generics, code that can handle different types of data can be written, achieving code reuse and abstraction.\n  These are some methods to achieve abstraction, and programmers can choose the most suitable method according to their actual needs.\nAbstraction vs Encapsulation Abstraction and Encapsulation are two different but related concepts in Object-Oriented Programming.\nAbstraction refers to the process of representing complex real-world objects as simpler models, focusing only on the key features and functionalities of the object without considering its implementation details. This helps simplify the system and makes it easier to understand and manage.\nEncapsulation, on the other hand, refers to the technique of hiding the internal details of an object and only exposing the public interface. It groups related properties and methods into a class, and separates them from other classesâ€™ properties and methods. Encapsulation prevents external code from accessing and modifying an objectâ€™s properties and methods improperly, improving code security and reliability.\nIn essence, Abstraction focuses on the essence of an object, while Encapsulation focuses on hiding the external interface and internal implementation details of the object. Abstraction and Encapsulation are two fundamental concepts in OOP, and they are often used together.\nExample 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  class Animal attr_reader :name, :species def initialize(name, species) @name = name @species = species end def speak raise NotImplementedError, \"Subclass must implement abstract method\" end end class Cat \u003c Animal def speak \"Meow!\" end end class Dog \u003c Animal def speak \"Woof!\" end end animal = Animal.new(\"ann\", \"pig\") cat = Cat.new(\"Kitty\", \"Felis catus\") dog = Dog.new(\"Rex\", \"Canis lupus familiaris\") puts \"#{cat.name}the #{cat.species}says #{cat.speak}\" # Kitty the Felis catus says Meow! puts \"#{dog.name}the #{dog.species}says #{dog.speak}\" # Rex the Canis lupus familiaris says Woof! puts \"#{animal.name}the #{animal.species}says #{animal.speak}\" # Subclass must implement abstract method (NotImplementedError)   In the above code, the Animal class is an abstract class because it defines a speak method but does not implement it. This is because different animals have different sounds, and we want to implement this method in subclasses. The Cat and Dog classes inherit from the Animal class and implement the speak method. In this example, the Animal class abstracts a real-world concept - animals, while the Cat and Dog classes are concrete implementations.\nThe Animal class encapsulates its two properties - name and species. These properties are defined as instance variables and can only be accessed or modified through defined accessor methods (getter/setter). This prevents external code from directly accessing or modifying the object.\nattr_reader, attr_writer, and attr_accessor can be considered as one way of implementing encapsulation in Ruby. These methods are built-in shortcuts in Ruby that allow developers to easily define getter and setter methods for instance variables, while preventing direct access or modification of instance variables from external code, thus protecting the objectâ€™s internal state.\nThe actual effect of these methods is to define a method that allows access to an objectâ€™s internal state from outside the object without directly accessing the instance variable of the object. This hides the instance variable and provides a more concise syntax. Encapsulation is one of the important means to achieve high cohesion and low coupling in well-designed object-oriented programs, which can improve the maintainability and readability of the code.\næŠ½è±¡åŒ–æ˜¯ä»€éº¼ æŠ½è±¡åŒ–ï¼ˆabstractionï¼‰æ˜¯ä¸€å€‹å°‡è¤‡é›œçš„ç³»çµ±ã€è³‡æ–™æˆ–é‹ç®—ï¼Œç°¡åŒ–æˆä¸€å€‹æ›´æ˜“ç†è§£ã€æ›´æ˜“è™•ç†çš„æ¨¡å‹æˆ–æ¦‚å¿µçš„éç¨‹ã€‚é€éæŠ½è±¡åŒ–ï¼Œç¨‹å¼è¨­è¨ˆå¸«å¯ä»¥å°‡ç³»çµ±ä¸­ä¸å¿…è¦çš„ç´°ç¯€éš±è—èµ·ä¾†ï¼Œä¸¦æä¾›ä¸€å€‹ç°¡æ½”ã€æ˜“æ–¼ä½¿ç”¨çš„ä»‹é¢ï¼Œä»¥ä¾›å…¶ä»–ç¨‹å¼æ¨¡çµ„æˆ–ä½¿ç”¨è€…ä½¿ç”¨ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œç•¶è¨­è¨ˆä¸€å€‹åœ–æ›¸é¤¨ç³»çµ±æ™‚ï¼Œæˆ‘å€‘å¯ä»¥æŠ½è±¡åŒ–å‡ºâ€œåœ–æ›¸â€é€™å€‹æ¦‚å¿µï¼Œè€Œä¸å¿…è€ƒæ…®åœ–æ›¸çš„å…·é«”ç´°ç¯€ï¼Œå¦‚å¤§å°ã€é‡é‡ã€å½¢ç‹€ç­‰ã€‚é€™æ¨£ä¸€ä¾†ï¼Œæˆ‘å€‘å°±å¯ä»¥ç°¡åŒ–ç³»çµ±çš„è¨­è¨ˆï¼Œä¸¦æä¾›ä¸€å€‹æ›´æ¸…æ™°çš„ä»‹é¢ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥æ›´å®¹æ˜“åœ°ç®¡ç†åœ–æ›¸é¤¨è³‡æºã€‚\næŠ½è±¡åŒ–åœ¨ç¨‹å¼è¨­è¨ˆä¸­æ˜¯ä¸€å€‹éå¸¸é‡è¦çš„æ¦‚å¿µï¼Œå› ç‚ºå®ƒå¯ä»¥æé«˜ä»£ç¢¼çš„å¯è®€æ€§ã€å¯é‡ç”¨æ€§å’Œå¯ç¶­è­·æ€§ã€‚åŒæ™‚ï¼Œå®ƒä¹Ÿæ˜¯é¢å‘å°è±¡ç¨‹å¼è¨­è¨ˆä¸­çš„æ ¸å¿ƒåŸå‰‡ä¹‹ä¸€ï¼Œå³å°‡è³‡æ–™å’Œæ“ä½œåˆ†é›¢ï¼Œä¸¦æä¾›ä¸€å€‹æŠ½è±¡å±¤ï¼Œä»¥éš±è—å¯¦ç¾ç´°ç¯€ã€‚\n  é¡åˆ¥ï¼šä½¿ç”¨é¡åˆ¥å¯ä»¥å°‡ç›¸é—œçš„è³‡æ–™å’Œæ“ä½œå°è£èµ·ä¾†ï¼Œå½¢æˆä¸€å€‹æŠ½è±¡çš„é¡åˆ¥ã€‚ä½¿ç”¨è€…åªéœ€è¦çŸ¥é“é€™å€‹é¡åˆ¥çš„ä»‹é¢å’Œä½¿ç”¨æ–¹æ³•ï¼Œè€Œä¸å¿…äº†è§£å…·é«”å¯¦ç¾çš„ç´°ç¯€ã€‚\n  ä»‹é¢ï¼šä»‹é¢å®šç¾©äº†ä¸€å€‹å°å¤–æš´éœ²çš„æ“ä½œé›†åˆï¼Œä½¿ç”¨è€…åªéœ€è¦çŸ¥é“é€™äº›æ“ä½œçš„åç¨±å’Œåƒæ•¸ï¼Œè€Œä¸å¿…äº†è§£å…·é«”å¯¦ç¾çš„ç´°ç¯€ã€‚ä»‹é¢å¯ä»¥è®“ä¸åŒçš„é¡åˆ¥å¯¦ç¾ç›¸åŒçš„æ“ä½œï¼Œå¾è€Œé”åˆ°ä»£ç¢¼çš„é‡ç”¨ã€‚\n  æŠ½è±¡é¡åˆ¥ï¼šæŠ½è±¡é¡åˆ¥æ˜¯ä¸€å€‹ä¸èƒ½è¢«å¯¦ä¾‹åŒ–çš„é¡åˆ¥ï¼Œå®ƒå®šç¾©äº†ä¸€å€‹ä»‹é¢å’Œä¸€äº›å…·é«”å¯¦ç¾ã€‚ä½¿ç”¨è€…å¯ä»¥ä½¿ç”¨é€™å€‹æŠ½è±¡é¡åˆ¥çš„ä»‹é¢ï¼Œè€Œä¸å¿…äº†è§£å…·é«”å¯¦ç¾çš„ç´°ç¯€ã€‚\n  å§”è¨—ï¼šå§”è¨—æ˜¯ä¸€å€‹å°‡ä¸€å€‹æ“ä½œè½‰äº¤çµ¦å¦ä¸€å€‹å°è±¡ä¾†åŸ·è¡Œçš„æ©Ÿåˆ¶ã€‚é€™æ¨£å¯ä»¥å°‡å¯¦ç¾ç´°ç¯€éš±è—èµ·ä¾†ï¼Œåªæš´éœ²å¿…è¦çš„ä»‹é¢ã€‚\n  æ³›å‹ï¼šæ³›å‹æ˜¯ä¸€ç¨®å¯ä»¥è®“ç¨‹å¼è¨­è¨ˆå¸«ç·¨å¯«å‡ºå…·æœ‰ä¸€èˆ¬æ€§çš„ä»£ç¢¼çš„æŠ€è¡“ã€‚ä½¿ç”¨æ³›å‹ï¼Œå¯ä»¥ç·¨å¯«å‡ºå¯ä»¥è™•ç†ä¸åŒé¡å‹è³‡æ–™çš„ä»£ç¢¼ï¼Œå¾è€Œé”åˆ°ä»£ç¢¼çš„é‡ç”¨å’ŒæŠ½è±¡åŒ–ã€‚\n  ä»¥ä¸Šæ˜¯å¯¦ç¾æŠ½è±¡åŒ–çš„ä¸€äº›æ–¹æ³•ï¼Œç¨‹å¼è¨­è¨ˆå¸«å¯ä»¥æ ¹æ“šå¯¦éš›éœ€æ±‚é¸æ“‡æœ€é©åˆçš„æ–¹æ³•ã€‚\næŠ½è±¡åŒ– vs å°è£ æŠ½è±¡åŒ–ï¼ˆAbstractionï¼‰å’Œå°è£ï¼ˆEncapsulationï¼‰æ˜¯é¢å‘å°è±¡ç·¨ç¨‹ä¸­å…©å€‹ä¸åŒä½†ç›¸é—œçš„æ¦‚å¿µã€‚\næŠ½è±¡åŒ–æ˜¯æŒ‡å°‡è¤‡é›œçš„ç¾å¯¦ä¸–ç•Œå°è±¡æŠ½è±¡æˆæ›´ç°¡å–®çš„æ¨¡å‹ï¼Œåƒ…é—œæ³¨å°è±¡çš„é—œéµç‰¹å¾µå’ŒåŠŸèƒ½ï¼Œè€Œä¸è€ƒæ…®å…¶å¯¦ç¾ç´°ç¯€ã€‚é€™æ¨£åšæœ‰åŠ©æ–¼ç°¡åŒ–ç³»çµ±ï¼Œä½¿å…¶æ›´å®¹æ˜“ç†è§£å’Œç®¡ç†ã€‚\nå°è£æ˜¯æŒ‡éš±è—å°è±¡çš„å…§éƒ¨ç´°ç¯€ï¼Œåªæš´éœ²å°å¤–çš„æ¥å£ã€‚å°‡ç›¸é—œçš„å±¬æ€§å’Œæ–¹æ³•çµ„æˆä¸€å€‹é¡ï¼Œä¸¦å°‡å…¶èˆ‡å…¶ä»–é¡çš„å±¬æ€§å’Œæ–¹æ³•åˆ†é›¢é–‹ä¾†ã€‚å°è£å¯ä»¥é˜²æ­¢å¤–éƒ¨ä»£ç¢¼ä¸ç•¶è¨ªå•å’Œä¿®æ”¹å°è±¡çš„å±¬æ€§å’Œæ–¹æ³•ï¼Œæé«˜ä»£ç¢¼çš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚\nç°¡å–®ä¾†èªªï¼ŒæŠ½è±¡åŒ–é—œæ³¨å°è±¡çš„æœ¬è³ªï¼Œè€Œå°è£é—œæ³¨å°è±¡çš„å¤–éƒ¨å¯è¦‹æ¥å£å’Œå…§éƒ¨å¯¦ç¾ç´°ç¯€çš„éš±è—ã€‚æŠ½è±¡åŒ–å’Œå°è£æ˜¯OOPä¸­å…©å€‹åŸºæœ¬çš„æ¦‚å¿µï¼Œå®ƒå€‘é€šå¸¸æ˜¯ä¸€èµ·ä½¿ç”¨çš„ã€‚\nç¯„ä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  class Animal attr_reader :name, :species def initialize(name, species) @name = name @species = species end def speak raise NotImplementedError, \"Subclass must implement abstract method\" end end class Cat \u003c Animal def speak \"Meow!\" end end class Dog \u003c Animal def speak \"Woof!\" end end animal = Animal.new(\"ann\", \"pig\") cat = Cat.new(\"Kitty\", \"Felis catus\") dog = Dog.new(\"Rex\", \"Canis lupus familiaris\") puts \"#{cat.name}the #{cat.species}says #{cat.speak}\" # Kitty the Felis catus says Meow! puts \"#{dog.name}the #{dog.species}says #{dog.speak}\" # Rex the Canis lupus familiaris says Woof! puts \"#{animal.name}the #{animal.species}says #{animal.speak}\" # Subclass must implement abstract method (NotImplementedError)   åœ¨ä¸Šé¢çš„ä»£ç¢¼ä¸­ï¼ŒAnimal é¡æ˜¯ä¸€å€‹æŠ½è±¡é¡ï¼Œå› ç‚ºå®ƒå®šç¾©äº†ä¸€å€‹ speak æ–¹æ³•ï¼Œä½†æ²’æœ‰å¯¦ç¾å®ƒã€‚é€™æ˜¯å› ç‚ºä¸åŒçš„å‹•ç‰©æœ‰ä¸åŒçš„å«è²ï¼Œè€Œæˆ‘å€‘å¸Œæœ›åœ¨å­é¡ä¸­å¯¦ç¾é€™å€‹æ–¹æ³•ã€‚Cat å’Œ Dog é¡ç¹¼æ‰¿äº† Animal é¡ï¼Œå¯¦ç¾äº† speak æ–¹æ³•ã€‚åœ¨é€™å€‹ä¾‹å­ä¸­ï¼ŒAnimal é¡æŠ½è±¡äº†ä¸€å€‹ç¾å¯¦ä¸–ç•Œçš„æ¦‚å¿µ - å‹•ç‰©ï¼Œè€Œ Cat å’Œ Dog é¡å‰‡æ˜¯å…·é«”çš„å¯¦ç¾ã€‚\nåœ¨ Ruby ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¯¦ä¾‹è®Šé‡ï¼ˆInstance Variableï¼‰å’Œå±¬æ€§è¨ªå•å™¨ï¼ˆAccessorï¼‰ä¾†å¯¦ç¾å°è£\nAnimal é¡å°è£äº†å…¶å…©å€‹å±¬æ€§ - name å’Œ speciesã€‚é€™äº›å±¬æ€§è¢«å®šç¾©ç‚ºå¯¦ä¾‹è®Šé‡ï¼Œä¸¦ä¸”åªèƒ½é€šéå®šç¾©çš„å±¬æ€§è¨ªå•å™¨æ–¹æ³•ï¼ˆgetter/setterï¼‰ä¾†è¨ªå•æˆ–ä¿®æ”¹ã€‚\nattr_readerã€attr_writer å’Œ attr_accessor å¯ä»¥ç®—æ˜¯ Ruby ä¸­å¯¦ç¾å°è£çš„æ–¹æ³•ä¹‹ä¸€ã€‚é€™äº›æ–¹æ³•éƒ½æ˜¯ Ruby å…§ç½®çš„å¿«æ·æ–¹å¼ï¼Œå¯ä»¥è®“é–‹ç™¼è€…è¼•é¬†åœ°å®šç¾©å¯¦ä¾‹è®Šæ•¸çš„ getter å’Œ setter æ–¹æ³•ï¼ŒåŒæ™‚é¿å…å¤–éƒ¨ç¨‹å¼ç¢¼ç›´æ¥è¨ªå•æˆ–è¨­å®šå¯¦ä¾‹è®Šæ•¸ï¼Œä¿è­·äº†ç‰©ä»¶çš„å…§éƒ¨ç‹€æ…‹ã€‚\né€™äº›æ–¹æ³•çš„å¯¦éš›æ•ˆæœæ˜¯å®šç¾©äº†ä¸€å€‹æ–¹æ³•ï¼Œä½¿å¾—å¯ä»¥å¾ç‰©ä»¶å¤–éƒ¨å­˜å–å°è±¡çš„å…§éƒ¨ç‹€æ…‹ï¼Œè€Œä¸éœ€è¦ç›´æ¥è¨ªå•ç‰©ä»¶çš„å¯¦ä¾‹è®Šæ•¸ã€‚é€™æ¨£å¯ä»¥éš±è—å¯¦ä¾‹è®Šæ•¸ï¼ŒåŒæ™‚æä¾›æ›´ç°¡æ½”çš„èªæ³•ã€‚åœ¨è¨­è¨ˆè‰¯å¥½çš„ç‰©ä»¶å°å‘ç¨‹å¼ä¸­ï¼Œå°è£æ˜¯å¯¦ç¾é«˜å…§èšä½è€¦åˆçš„é‡è¦æ‰‹æ®µä¹‹ä¸€ï¼Œèƒ½å¤ æé«˜ä»£ç¢¼çš„å¯ç¶­è­·æ€§å’Œå¯è®€æ€§ã€‚\n","description":"","tags":null,"title":"Abstraction","uri":"/posts/abstraction/"},{"categories":null,"content":"What is Object Oriented Programming Object Oriented Programming (OOP) is a software development methodology that models real-world objects and builds software based on how these objects interact with each other.\nIn OOP, objects in software are made up of data properties and methods that operate on that data. These objects can be seen as entities within the software, and they work together to accomplish specific tasks. For example, a bank account object might have properties such as balance and account number, and methods such as deposit and withdraw.\nThe fundamental concepts of OOP are â€œclassesâ€ and â€œobjectsâ€. Classes describe the blueprint or template for objects, and objects are instances created from these classes. In OOP, objects can be made more flexible through concepts such as inheritance and polymorphism, making the code more organized, reusable, and easier to maintain.\nOOP provides a way to break down complex programs into smaller, more manageable parts. By breaking a program into classes and objects, we can create code that is easier to understand, modify, and maintain. Additionally, OOP can increase the reusability of software, as developers can use existing objects to develop new functionality. It is widely used in modern programming languages such as Java, Python, and Ruby, among others.\nThe four core concepts of OOP are:\n  Abstraction: Abstraction is the process of representing complex real-world objects as simpler classes or interfaces, which hides the implementation details and only exposes the objectâ€™s functionality and properties. By abstracting objects, the programmer can simplify the systemâ€™s complexity, making it easier to understand and manage.\n  Encapsulation: Encapsulation is the technique of hiding the internal details of an object and only exposing the public interface. It groups related properties and methods into a class, and separates them from other classesâ€™ properties and methods. Encapsulation prevents external code from accessing and modifying an objectâ€™s properties and methods improperly, improving code security and reliability.\n  Inheritance: Inheritance is the mechanism that enables a new object to acquire properties and methods from an existing object. It promotes code reuse and structuring. Inheritance allows the programmer to create new code based on existing code, saving development time and improving code reusability.\n  Polymorphism: Polymorphism refers to the ability of objects to take on multiple forms, where the same operation can behave differently on different objects. Polymorphism allows for flexibility and extensibility, improving code readability, maintainability, and reusability. Polymorphism can be achieved through method overloading, method overriding, and interfaces.\n  These concepts are interrelated and are usually used together to implement complex code. OOP can help programmers write code that is easy to understand, reuse, and maintain, while improving the quality and productivity of the code.\nObject Oriented Programming (OOP) æ˜¯ä¸€ç¨®è»Ÿé«”é–‹ç™¼çš„æ–¹æ³•ï¼Œå®ƒå°‡ç¾å¯¦ä¸–ç•Œä¸­çš„ç‰©ä»¶æ¨¡å‹åŒ–ï¼Œä»¥ç‰©ä»¶ä¹‹é–“çš„äº’å‹•æ–¹å¼ä¾†å»ºç«‹è»Ÿé«”ã€‚\nåœ¨ OOP ä¸­ï¼Œè»Ÿé«”ä¸­çš„ç‰©ä»¶ç”±è³‡æ–™å±¬æ€§å’Œæ“ä½œè³‡æ–™çš„æ–¹æ³•æ‰€æ§‹æˆã€‚é€™äº›ç‰©ä»¶å¯ä»¥è¢«çœ‹åšè»Ÿé«”ä¸­çš„å¯¦é«”ï¼Œå®ƒå€‘èƒ½å¤ åˆä½œä¾†å®Œæˆç‰¹å®šçš„ä»»å‹™ã€‚ä¾‹å¦‚ï¼Œä¸€å€‹éŠ€è¡Œå¸³æˆ¶ç‰©ä»¶å¯ä»¥æœ‰å±¬æ€§å¦‚é¤˜é¡ã€å¸³æˆ¶è™Ÿç¢¼ç­‰ï¼Œè€Œæ–¹æ³•å‰‡å¯ä»¥æ˜¯å­˜æ¬¾ã€ææ¬¾ç­‰ã€‚\nOOP çš„åŸºæœ¬æ¦‚å¿µæ˜¯ã€Œé¡åˆ¥ã€å’Œã€Œç‰©ä»¶ã€ã€‚é¡åˆ¥æ˜¯ç”¨ä¾†æè¿°ç‰©ä»¶çš„è—åœ–æˆ–æ¨¡æ¿ï¼Œè€Œç‰©ä»¶æ˜¯é€éé€™äº›é¡åˆ¥ä¾†å»ºç«‹çš„å¯¦é«”ã€‚åœ¨ OOP ä¸­ï¼Œç‰©ä»¶èƒ½å¤ é€éç¹¼æ‰¿å’Œå¤šå‹ç­‰æ¦‚å¿µä¾†å¢åŠ å½ˆæ€§ï¼Œè®“ç¨‹å¼ç¢¼æ›´æœ‰çµ„ç¹”æ€§ã€å¯é‡è¤‡ä½¿ç”¨æ€§å’Œæ˜“æ–¼ç¶­è­·æ€§ã€‚\nOOP æä¾›äº†ä¸€ç¨®å°‡è¤‡é›œç¨‹å¼æ‹†è§£æˆæ›´å°ã€æ›´æ˜“ç®¡ç†çš„éƒ¨åˆ†çš„æ–¹å¼ã€‚é€éå°‡ç¨‹å¼æ‹†è§£æˆé¡åˆ¥å’Œç‰©ä»¶ï¼Œæˆ‘å€‘å¯ä»¥å‰µå»ºå‡ºæ›´å®¹æ˜“ç†è§£ã€ä¿®æ”¹å’Œç¶­è­·çš„ç¨‹å¼ç¢¼ã€‚æ­¤å¤–ï¼Œç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆä¹Ÿå¯ä»¥å¢åŠ è»Ÿé«”çš„å¯é‡ç”¨æ€§ï¼Œå› ç‚ºé–‹ç™¼è€…å¯ä»¥ä½¿ç”¨ç¾æœ‰çš„ç‰©ä»¶ä¾†é–‹ç™¼æ–°çš„åŠŸèƒ½ã€‚å®ƒå»£æ³›åœ°æ‡‰ç”¨æ–¼ç¾ä»£ç¨‹å¼èªè¨€ï¼Œå¦‚ Javaã€Python å’Œ Ruby ç­‰ã€‚\nOOPçš„æ ¸å¿ƒæ¦‚å¿µåŒ…æ‹¬ä»¥ä¸‹å››å€‹ï¼š\n  Abstractionï¼ˆæŠ½è±¡åŒ–ï¼‰ï¼šæŠ½è±¡åŒ–æ˜¯å°‡å…·é«”äº‹ç‰©æŠ½è±¡æˆä¸€å€‹é¡åˆ¥æˆ–ä»‹é¢ï¼Œä½¿ç¨‹å¼è¨­è¨ˆå¸«å¯ä»¥éš±è—å¯¦ç¾ç´°ç¯€ï¼Œåªé—œæ³¨ç‰©ä»¶çš„åŠŸèƒ½å’Œç‰¹æ€§ã€‚é€éæŠ½è±¡åŒ–ï¼Œç¨‹å¼è¨­è¨ˆå¸«å¯ä»¥ç°¡åŒ–ç³»çµ±çš„è¤‡é›œæ€§ï¼Œä½¿å…¶æ˜“æ–¼ç†è§£å’Œç®¡ç†ã€‚\n  Encapsulationï¼ˆå°è£ï¼‰ï¼šå°è£æ˜¯ä¸€ç¨®éš±è—ç‰©ä»¶ç´°ç¯€çš„æŠ€è¡“ã€‚å®ƒå°‡ç›¸é—œçš„å±¬æ€§å’Œæ–¹æ³•çµ„åˆèµ·ä¾†å½¢æˆä¸€å€‹é¡åˆ¥ï¼ŒåŒæ™‚å°‡å…¶èˆ‡å…¶ä»–é¡åˆ¥çš„å±¬æ€§å’Œæ–¹æ³•åˆ†é–‹ã€‚å°è£å¯ä»¥é˜²æ­¢å¤–éƒ¨ä»£ç¢¼ä¸ç•¶åœ°è¨ªå•å’Œä¿®æ”¹ç‰©ä»¶çš„å±¬æ€§å’Œæ–¹æ³•ï¼Œå¾è€Œæé«˜ä»£ç¢¼çš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚\n  Inheritanceï¼ˆç¹¼æ‰¿ï¼‰ï¼šç¹¼æ‰¿æ˜¯æŒ‡ä¸€å€‹ç‰©ä»¶å¯ä»¥ç²å¾—å¦ä¸€å€‹ç‰©ä»¶çš„å±¬æ€§å’Œæ–¹æ³•ï¼Œå¾è€Œå¯ä»¥é‡è¤‡åˆ©ç”¨ä»£ç¢¼ä¸¦å¯¦ç¾ä»£ç¢¼çš„çµæ§‹åŒ–ã€‚é€éç¹¼æ‰¿ï¼Œç¨‹å¼è¨­è¨ˆå¸«å¯ä»¥å»ºç«‹åŸºæ–¼ç¾æœ‰ä»£ç¢¼çš„æ–°ä»£ç¢¼ï¼Œå¾è€Œç¯€çœé–‹ç™¼æ™‚é–“ä¸¦æé«˜ä»£ç¢¼çš„å¯é‡è¤‡åˆ©ç”¨æ€§ã€‚\n  Polymorphismï¼ˆå¤šæ…‹æ€§ï¼‰ï¼šå¤šæ…‹æ€§æ˜¯æŒ‡ç›¸åŒçš„æ“ä½œå¯ä»¥ä½œç”¨æ–¼ä¸åŒçš„ç‰©ä»¶ä¸Šï¼Œç”¢ç”Ÿä¸åŒçš„è¡Œç‚ºã€‚å®ƒå¯ä»¥å¯¦ç¾ä»£ç¢¼çš„éˆæ´»æ€§å’Œæ“´å±•æ€§ï¼Œå¾è€Œæé«˜ä»£ç¢¼çš„å¯è®€æ€§ã€å¯ç¶­è­·æ€§å’Œå¯é‡ç”¨æ€§ã€‚å¤šæ…‹æ€§æ˜¯OOPä¸­æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ï¼Œå®ƒå¯ä»¥é€šéæ–¹æ³•é‡è¼‰ã€æ–¹æ³•é‡å¯«å’Œä»‹é¢å¯¦ç¾ã€‚\n  é€éé€™äº›æ ¸å¿ƒæ¦‚å¿µçš„é‹ç”¨ï¼Œç¨‹å¼è¨­è¨ˆå¸«å¯ä»¥å¯«å‡ºæ˜“è®€ã€æ˜“ç¶­è­·ã€å¯é‡è¤‡åˆ©ç”¨ã€å½ˆæ€§åŠå¯æ“´å……çš„ç¨‹å¼ã€‚\nExample 1 ä¸‹é¢æ˜¯ä¸€å€‹ç°¡å–®çš„ä¾‹å­ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨ Ruby çš„ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆä¾†å»ºç«‹ä¸€å€‹ç°¡å–®çš„äººç‰©ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  class Person attr_accessor :name, :age def say_hello puts \"Hello, my name is #{@name}and I'm #{@age}years old.\" end end # Create a new Person object my_person = Person.new # Set the name and age attributes my_person.name = \"Alice\" my_person.age = 30 my_person.say_hello #\"Hello, my name is Alice and I'm 30 years old.\"   In this example, the Person class defines two attributes using the attr_accessor method: name and age. This automatically creates getter and setter methods for the attributes, so we can set their values using person.name = â€œAliceâ€ and person.age = 30.\nThe say_hello method uses the name and age attributes to output a message introducing the person. We can call this method on the Person object by using person.say_hello.\nUsing attr_accessor instead of an initialize method can simplify the code for simple cases like this where we just need to define a few attributes for an object.\né€™å€‹ç¨‹å¼ç¢¼å®šç¾©äº†ä¸€å€‹ Person é¡åˆ¥ï¼Œè©²é¡åˆ¥å…·æœ‰ name å’Œ age å…©å€‹å±¬æ€§ä»¥åŠä¸€å€‹ say_hello æ–¹æ³•ã€‚ä½¿ç”¨ attr_accessor ä¾†å®šç¾©å­˜å–å™¨æ–¹æ³•ï¼Œç”¨æ–¼è¨­ç½®å’Œç²å–å¯¦ä¾‹è®Šæ•¸ã€‚åœ¨ say_hello æ–¹æ³•ä¸­ï¼Œæœƒé¡¯ç¤ºä¸€æ¢ç°¡å–®çš„æ¶ˆæ¯ï¼Œé¡¯ç¤ºäººçš„åå­—å’Œå¹´é½¡ã€‚\nåœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å‰µå»ºä¸€å€‹åç‚º my_person çš„ Person ç‰©ä»¶ï¼Œä¸¦è¨­ç½®å…¶ name å’Œ age å±¬æ€§ï¼Œæœ€å¾Œå‘¼å«å®ƒçš„ say_hello æ–¹æ³•ä¾†é¡¯ç¤ºäººçš„è³‡è¨Šã€‚\nä½¿ç”¨ attr_accessor è€Œä¸æ˜¯ initialize æ–¹æ³•å¯ä»¥ç°¡åŒ–åƒé€™æ¨£çš„ç°¡å–®æƒ…æ³çš„ä»£ç¢¼ï¼Œæˆ‘å€‘åªéœ€è¦ç‚ºä¸€å€‹å°è±¡å®šç¾©ä¸€äº›å±¬æ€§ã€‚\nExample 2 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  class Person attr_accessor :name, :age def initialize(name, age) @name = name @age = age end def introduce puts \"Hi, my name is #{@name}and I'm #{@age}years old.\" end end person1 = Person.new(\"John\", 30) person2 = Person.new(\"Jane\", 25) person1.introduce person2.introduce   In this example, the Person class has an initialize method that takes two parameters, name and age. These parameters are used to set the instance variables @name and @age, respectively. The attr_accessor method is used to define getter and setter methods for these instance variables.\nThe introduce method is used to print out a message introducing the person by name and age. Two instances of the Person class are created with the new method, and the introduce method is called on each of them to introduce them.\nExample 3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  class Game def initialize @number = rand(1..100) @guesses = 0 @game_over = false end def play puts \"Let's play a guessing game!\" until @game_over guess = get_guess check_guess(guess) end end private def get_guess puts \"Enter a number between 1 and 100:\" gets.chomp.to_i end def check_guess(guess) @guesses += 1 if guess == @number puts \"Congratulations, you guessed the number in #{@guesses}tries!\" @game_over = true elsif guess \u003c @number puts \"Sorry, that's too low. Guess again.\" else puts \"Sorry, that's too high. Guess again.\" end end end game = Game.new game.play   In this example, we define a Game class to represent a guessing game. In the initialize method, we use the rand method to generate a random number between 1 and 100, and initialize some game-related variables such as the number of guesses (@guesses) and whether the game is over (@game_over).\nIn the play method, we use a until loop to keep getting guesses from the player until the game is over. In each guess, we call the get_guess method to get a number from the player, and then call the check_guess method to check whether the guess is correct.\nIn the get_guess method, we use the puts method to print a prompt message, and the gets method to get input from the player. In the check_guess method, we first increment the number of guesses, and then check whether the guess is correct. If the guess is correct, we print a congratulatory message and set @game_over to true. Otherwise, we print a message telling the player whether the guess was too high or too low.\nFinally, we create a Game object and call the play method to start the game. Each time the player enters a number, the game tells the player whether the guess was correct or not.\nExample 4 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  class Person attr_accessor :name, :age, :gender def initialize(name, age, gender) @name = name @age = age @gender = gender end def say_hello puts \"Hi, my name is #{@name}. I'm #{@age}years old and #{@gender}.\" end end # å‰µå»ºä¸€å€‹äººç‰©ä»¶ person1 = Person.new(\"David\", 25, \"male\") # è¨ªå•å’Œä¿®æ”¹å±¬æ€§ puts person1.name # David person1.age = 30 puts person1.age # 30 # å‘¼å«æ–¹æ³• person1.say_hello # Hi, my name is David. I'm 30 years old and male.   é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å®šç¾©äº†ä¸€å€‹ Person é¡åˆ¥ï¼Œé€™å€‹é¡åˆ¥å…·æœ‰ nameã€age å’Œ gender ä¸‰å€‹å±¬æ€§ï¼Œä»¥åŠä¸€å€‹ say_hello æ–¹æ³•ã€‚åœ¨å‰µå»ºä¸€å€‹äººç‰©ä»¶æ™‚ï¼Œæˆ‘å€‘éœ€è¦æä¾›å§“åã€å¹´é½¡å’Œæ€§åˆ¥ç­‰å±¬æ€§å€¼ã€‚æˆ‘å€‘å¯ä»¥é€šéä½¿ç”¨ attr_accessor ç°¡åŒ–å±¬æ€§çš„å®šç¾©ï¼Œä¸¦ä½¿ç”¨ initialize æ–¹æ³•ä¾†åˆå§‹åŒ–å±¬æ€§å€¼ã€‚åœ¨ say_hello æ–¹æ³•ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨å¯¦ä¾‹è®Šæ•¸ @nameã€@age å’Œ @gender è¼¸å‡ºäººç‰©ä»¶çš„å±¬æ€§å€¼ã€‚\né€™å€‹ä¾‹å­å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Ruby ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆä¾†å»ºç«‹ä¸€å€‹ç°¡å–®çš„äººç‰©ä»¶ï¼Œä¸¦æ¼”ç¤ºäº†å¦‚ä½•è¨ªå•å’Œä¿®æ”¹ç‰©ä»¶çš„å±¬æ€§ï¼Œä»¥åŠå¦‚ä½•å‘¼å«ç‰©ä»¶çš„æ–¹æ³•ã€‚\nExample 5 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  class Dog def initialize(name, breed) @name = name @breed = breed end def bark puts \"Woof! My name is #{@name}and I'm a #{@breed}.\" end end # å‰µå»ºä¸€å€‹åç‚º Spotï¼Œå“ç¨®ç‚ºæŸ´çŠ¬çš„ç‹—ç‰©ä»¶ my_dog = Dog.new(\"Spot\", \"Shiba Inu\") # ä½¿ç”¨ bark æ–¹æ³•è®“ç‹—å« my_dog.bark   é€™å€‹ç¨‹å¼å®šç¾©äº†ä¸€å€‹ Dog é¡åˆ¥ï¼Œè©²é¡åˆ¥æœ‰ä¸€å€‹ initialize æ–¹æ³•ç”¨ä¾†åˆå§‹åŒ–åç¨±å’Œå“ç¨®çš„å¯¦ä¾‹è®Šæ•¸ï¼Œä»¥åŠä¸€å€‹ bark æ–¹æ³•ï¼Œè©²æ–¹æ³•æœƒè®“ç‹—é¡¯ç¤ºå®ƒçš„åå­—å’Œå“ç¨®ã€‚ç¨‹å¼é‚„å‰µå»ºäº†ä¸€å€‹ my_dog ç‰©ä»¶å¯¦ä¾‹ï¼Œè©²ç‰©ä»¶ä»£è¡¨ä¸€éš»åç‚º â€œSpotâ€ çš„æŸ´çŠ¬ï¼Œç„¶å¾Œä½¿ç”¨ bark æ–¹æ³•è®“ç‹—å«ã€‚\nExample 6 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  class Car def initialize(make, model, year) @make = make @model = model @year = year @speed = 0 end def speed_up(num) @speed += num puts \"The car is now going #{@speed}mph.\" end def brake(num) @speed -= num puts \"The car is now going #{@speed}mph.\" end def shut_off @speed = 0 puts \"The car is now off.\" end end # å‰µå»ºä¸€å€‹åç‚º my_car çš„ Car ç‰©ä»¶å¯¦ä¾‹ my_car = Car.new(\"Toyota\", \"Camry\", 2015) # ä½¿ç”¨ speed_up æ–¹æ³•å¢åŠ æ±½è»Šçš„é€Ÿåº¦ my_car.speed_up(20) # å†æ¬¡ä½¿ç”¨ speed_up æ–¹æ³•å¢åŠ æ±½è»Šçš„é€Ÿåº¦ my_car.speed_up(30) # ä½¿ç”¨ brake æ–¹æ³•æ¸›å°‘æ±½è»Šçš„é€Ÿåº¦ my_car.brake(10) # ä½¿ç”¨ shut_off æ–¹æ³•é—œé–‰æ±½è»Š my_car.shut_off   é€™å€‹ç¨‹å¼å®šç¾©äº†ä¸€å€‹ Car é¡åˆ¥ï¼Œè©²é¡åˆ¥æœ‰ä¸€å€‹ initialize æ–¹æ³•ç”¨ä¾†åˆå§‹åŒ–æ±½è»Šçš„å±¬æ€§ï¼ˆå“ç‰Œã€å‹è™Ÿã€å¹´ä»½ã€é€Ÿåº¦ï¼‰ï¼Œä»¥åŠä¸‰å€‹æ–¹æ³• speed_upã€brake å’Œ shut_offã€‚é€™äº›æ–¹æ³•å¯ä»¥è®“æ±½è»ŠåŠ é€Ÿã€æ¸›é€Ÿå’Œé—œé–‰ã€‚ç¨‹å¼é‚„å‰µå»ºäº†ä¸€å€‹ my_car ç‰©ä»¶å¯¦ä¾‹ï¼Œè©²ç‰©ä»¶ä»£è¡¨ä¸€è¼›å“ç‰Œç‚º Toyotaï¼Œå‹è™Ÿç‚º Camryï¼Œå¹´ä»½ç‚º 2015 çš„æ±½è»Šï¼Œç„¶å¾Œä½¿ç”¨ speed_upã€brake å’Œ shut_off æ–¹æ³•æ“ä½œè©²æ±½è»Šçš„é€Ÿåº¦å’Œç‹€æ…‹ã€‚\nExample 7 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57  class Account attr_reader :balance, :name def initialize(name, balance = 0) @name = name @balance = balance end def deposit(amount) @balance += amount end def withdraw(amount) if amount \u003e @balance puts \"Error: insufficient balance.\" else @balance -= amount end end end class Bank def initialize @accounts = [] end def create_account(name, balance = 0) @accounts \u003c\u003c Account.new(name, balance) end def get_account(name) @accounts.each do |account| if account.name == name return account end end return nil end end my_bank = Bank.new my_bank.create_account(\"Alice\", 1000) my_bank.create_account(\"Bob\", 500) alice_account = my_bank.get_account(\"Alice\") bob_account = my_bank.get_account(\"Bob\") puts alice_account.balance # è¼¸å‡º 1000 puts bob_account.balance # è¼¸å‡º 500 alice_account.withdraw(200) puts alice_account.balance # è¼¸å‡º 800 bob_account.deposit(100) puts bob_account.balance # è¼¸å‡º 600 alice_account.withdraw(1000) # è¼¸å‡º \"Error: insufficient balance.\"   åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘å»ºç«‹äº†å…©å€‹é¡åˆ¥ï¼ˆClassï¼‰ï¼Œåˆ†åˆ¥æ˜¯ Account å’Œ Bankã€‚Account é¡åˆ¥è¡¨ç¤ºä¸€å€‹éŠ€è¡Œå¸³æˆ¶ç‰©ä»¶ï¼Œå®ƒæœ‰ä¸€å€‹åå­—ï¼ˆnameï¼‰å’Œä¸€å€‹é¤˜é¡ï¼ˆbalanceï¼‰ã€‚Bank é¡åˆ¥è¡¨ç¤ºä¸€å€‹éŠ€è¡Œç³»çµ±ç‰©ä»¶ï¼Œå®ƒå¯ä»¥å‰µå»ºå¸³æˆ¶ï¼ˆcreate_accountï¼‰å’ŒæŸ¥è©¢å¸³æˆ¶ï¼ˆget_accountï¼‰ã€‚\nåœ¨ Account é¡åˆ¥ä¸­ï¼Œæˆ‘å€‘å®šç¾©äº†ä¸‰å€‹æ–¹æ³•ï¼Œåˆ†åˆ¥æ˜¯ initializeã€deposit å’Œ withdrawã€‚initialize æ–¹æ³•ç”¨æ–¼åˆå§‹åŒ–ä¸€å€‹å¸³æˆ¶ï¼Œdeposit æ–¹æ³•ç”¨æ–¼å­˜æ¬¾ï¼Œwithdraw æ–¹æ³•ç”¨æ–¼å–æ¬¾ã€‚åœ¨ withdraw æ–¹æ³•ä¸­ï¼Œæˆ‘å€‘åˆ¤æ–·å–æ¬¾é‡‘é¡æ˜¯å¦è¶…éå¸³æˆ¶é¤˜é¡ï¼Œå¦‚æœæ˜¯ï¼Œå°±è¼¸å‡ºä¸€å€‹éŒ¯èª¤è¨Šæ¯ã€‚\nåœ¨ Bank é¡åˆ¥ä¸­ï¼Œæˆ‘å€‘å®šç¾©äº†å…©å€‹æ–¹æ³•ï¼Œåˆ†åˆ¥æ˜¯ initializeã€create_account å’Œ get_accountã€‚initialize æ–¹æ³•ç”¨æ–¼åˆå§‹åŒ–ä¸€å€‹éŠ€è¡Œç³»çµ±ç‰©ä»¶ï¼Œcreate_account æ–¹æ³•ç”¨æ–¼å‰µå»ºä¸€å€‹å¸³æˆ¶ï¼Œget_account æ–¹æ³•ç”¨æ–¼æŸ¥è©¢ä¸€å€‹å¸³æˆ¶ã€‚\næ¥è‘—ï¼Œæˆ‘å€‘ä½¿ç”¨ new æ–¹æ³•å‰µå»ºäº†ä¸€å€‹ Bank ç‰©ä»¶ï¼Œä¸¦å°‡å®ƒå„²å­˜åœ¨ my_bank è®Šæ•¸ä¸­ã€‚æˆ‘å€‘å¯ä»¥ä½¿ç”¨ my_bank é€™å€‹è®Šæ•¸ï¼Œä¾†å‰µå»ºå¸³æˆ¶å’ŒæŸ¥è©¢å¸³\n","description":"","tags":null,"title":"Object Oriented Programming","uri":"/posts/oop/"},{"categories":null,"content":"What is â€œPolymorphismâ€ Polymorphism is a concept in object-oriented programming that refers to the ability of an object to take on many forms or have multiple behaviors. Specifically, it allows different objects to be treated as if they were the same type of object, even if they are different. This means that the same method or operation can be used on different objects, and each object will behave differently based on its own internal implementation.\nPolymorphism is typically achieved through inheritance and method overriding, which allows a subclass to override the implementation of a method inherited from its superclass. This means that different subclasses of the same superclass can have different behaviors for the same method, and can therefore be treated as if they were the same type of object.\nPolymorphism is a key concept in object-oriented programming, as it allows code to be written in a more general and reusable way. By treating objects as if they were the same type of object, code can be written that is more modular, flexible, and easier to maintain, since it can be used with different types of objects without modification.\nExample with Ruby 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  class Animal def speak puts \"I am an animal\" end end class Dog \u003c Animal def speak puts \"Woof!\" end end class Cat \u003c Animal def speak puts \"Meow!\" end end animals = [Animal.new, Dog.new, Cat.new] animals.each do |animal| animal.speak end # Prints I am an animal # Prints Woof! # Prints Meow!   In this example, we define an Animal class and two subclasses Dog and Cat, both of which override the speak method. We also define an array animals that contains instances of the Animal, Dog, and Cat classes.\nIn the loop, we pass each object in the animals array as an argument to the speak method. Since each object is an instance of a different class, they will exhibit different behaviors. When the Animal object calls the speak method, it will output â€œI am an animalâ€; when the Dog object calls the speak method, it will output â€œWoof!â€; when the Cat object calls the speak method, it will output â€œMeow!â€.\nThis example demonstrates how polymorphism can be used to implement different behaviors for different objects. Since the Dog and Cat classes both inherit from the Animal class, they both have a speak method, but the implementation of this method is different. When we call the speak method, Ruby automatically chooses the appropriate method based on the actual type of the object. This is the essence of polymorphism.\nExample with JavaScript 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  class Vehicle { move() { console.log(\"I'm moving\"); } } class Plane extends Vehicle { move() { console.log(\"I'm flying\"); } } class Boat extends Vehicle { move() { console.log(\"I'm on the water\"); } } class Car extends Vehicle {} const vehicle = new Vehicle(); const plane = new Plane(); const boat = new Boat(); const car = new Car(); vehicle.move() // Prints I'm moving plane.move() // Prints I'm flying boat.move() // Prints I'm on the water car.move() // Prints I'm moving   å¤šå‹æ˜¯ä»€éº¼? å¤šå‹ï¼ˆpolymorphismï¼‰æ˜¯é¢å‘ç‰©ä»¶ç¨‹å¼è¨­è¨ˆï¼ˆOOPï¼‰çš„ä¸€å€‹æ¦‚å¿µï¼Œå®ƒå…è¨±ä¸åŒçš„ç‰©ä»¶å…·æœ‰ç›¸åŒçš„ä»‹é¢ï¼ˆæ–¹æ³•æˆ–å±¬æ€§ï¼‰ï¼Œä½†è¡¨ç¾å‡ºä¸åŒçš„è¡Œç‚ºã€‚æ›å¥è©±èªªï¼Œå¤šå‹æ˜¯æŒ‡åœ¨ä¸åŒçš„æƒ…å¢ƒä¸­ï¼ŒåŒä¸€å€‹å¯¦é«”ï¼ˆä¾‹å¦‚ä¸€å€‹é¡åˆ¥çš„å¯¦ä¾‹ï¼‰å¯ä»¥è¡¨ç¾å‡ºä¸åŒçš„å½¢æ…‹å’Œè¡Œç‚ºã€‚\nå¤šå‹çš„å¯¦ç¾æ–¹å¼æœ‰å¾ˆå¤šç¨®ï¼Œå…¶ä¸­æœ€å¸¸è¦‹çš„æ˜¯æ–¹æ³•é‡è¼‰ï¼ˆmethod overloadingï¼‰å’Œæ–¹æ³•é‡å¯«ï¼ˆmethod overridingï¼‰ã€‚æ–¹æ³•é‡è¼‰æ˜¯æŒ‡åœ¨ä¸€å€‹é¡åˆ¥ä¸­å®šç¾©å¤šå€‹æ–¹æ³•ï¼Œé€™äº›æ–¹æ³•å…·æœ‰ç›¸åŒçš„åç¨±ï¼Œä½†æ˜¯åƒæ•¸é¡å‹æˆ–æ•¸é‡ä¸åŒã€‚ç•¶èª¿ç”¨é€™äº›æ–¹æ³•æ™‚ï¼Œç·¨è­¯å™¨æœƒæ ¹æ“šå¯¦åƒçš„é¡å‹å’Œæ•¸é‡è‡ªå‹•åŒ¹é…åˆ°å°æ‡‰çš„æ–¹æ³•ã€‚æ–¹æ³•é‡å¯«å‰‡æ˜¯æŒ‡å­é¡é‡å¯«çˆ¶é¡çš„æ–¹æ³•ï¼Œåœ¨å­é¡ä¸­å®šç¾©ä¸€å€‹å’Œçˆ¶é¡æ–¹æ³•ç°½åç›¸åŒçš„æ–¹æ³•ï¼Œä½†æ˜¯å¯¦ç¾ä¸åŒçš„è¡Œç‚ºã€‚\nå¤šå‹æ˜¯é¢å‘ç‰©ä»¶ç¨‹å¼è¨­è¨ˆçš„é‡è¦ç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒå¯ä»¥è®“ç¨‹å¼æ›´åŠ éˆæ´»ã€å¯æ“´å±•å’Œæ˜“ç¶­è­·ã€‚é€šéå¤šå‹ï¼Œæˆ‘å€‘å¯ä»¥ç·¨å¯«é€šç”¨çš„ç¨‹å¼ç¢¼ï¼Œè€Œä¸éœ€è¦é‡å°æ¯å€‹å…·é«”çš„ç‰©ä»¶ç·¨å¯«ä¸åŒçš„ç¨‹å¼ç¢¼ã€‚\nåœ¨ Ruby ä¸­ï¼Œå¤šå‹é€šå¸¸æ˜¯é€šéæ–¹æ³•é‡å¯«ï¼ˆmethod overridingï¼‰ä¾†å¯¦ç¾çš„ã€‚ä¸Šé¢ç¬¬ä¸€å€‹ä¾‹å­æ˜¯ä¸€å€‹ç°¡å–®çš„ Ruby ç¯„ä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨å¤šå‹ä¾†å¯¦ç¾ä¸åŒç‰©ä»¶çš„ä¸åŒè¡Œç‚ºï¼š\nåœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å®šç¾©äº†ä¸€å€‹ Animal é¡åˆ¥å’Œå…©å€‹å­é¡åˆ¥ Dog å’Œ Catï¼Œå®ƒå€‘éƒ½é‡å¯«äº† speak æ–¹æ³•ã€‚æˆ‘å€‘é‚„å®šç¾©äº†ä¸€å€‹é™£åˆ— animalsï¼Œè£¡é¢åŒ…å«äº† Animalã€Dog å’Œ Cat é¡åˆ¥çš„å¯¦ä¾‹ã€‚\nåœ¨è¿´åœˆä¸­ï¼Œæˆ‘å€‘å°‡ animals é™£åˆ—ä¸­çš„æ¯å€‹ç‰©ä»¶ä½œç‚ºåƒæ•¸å‚³éçµ¦ speak æ–¹æ³•ã€‚ç”±æ–¼æ¯å€‹ç‰©ä»¶éƒ½æ˜¯ä¸åŒçš„é¡åˆ¥å¯¦ä¾‹ï¼Œæ‰€ä»¥å®ƒå€‘å°‡è¡¨ç¾å‡ºä¸åŒçš„è¡Œç‚ºã€‚ç•¶ Animal ç‰©ä»¶èª¿ç”¨ speak æ–¹æ³•æ™‚ï¼Œå®ƒå°‡è¼¸å‡º â€œI am an animalâ€ï¼›ç•¶ Dog ç‰©ä»¶èª¿ç”¨ speak æ–¹æ³•æ™‚ï¼Œå®ƒå°‡è¼¸å‡º â€œWoof!\"ï¼›ç•¶ Cat ç‰©ä»¶èª¿ç”¨ speak æ–¹æ³•æ™‚ï¼Œå®ƒå°‡è¼¸å‡º â€œMeow!\"ã€‚\né€™å€‹ä¾‹å­å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨å¤šå‹ä¾†å¯¦ç¾ä¸åŒç‰©ä»¶çš„ä¸åŒè¡Œç‚ºã€‚ç”±æ–¼ Dog å’Œ Cat é¡åˆ¥éƒ½ç¹¼æ‰¿è‡ª Animal é¡åˆ¥ï¼Œå®ƒå€‘éƒ½æœ‰ä¸€å€‹ speak æ–¹æ³•ï¼Œä½†æ˜¯é€™å€‹æ–¹æ³•çš„å¯¦ç¾æ˜¯ä¸åŒçš„ã€‚ç•¶æˆ‘å€‘èª¿ç”¨ speak æ–¹æ³•æ™‚ï¼ŒRuby æœƒæ ¹æ“šç‰©ä»¶çš„å¯¦éš›é¡å‹è‡ªå‹•é¸æ“‡é©ç•¶çš„æ–¹æ³•ã€‚é€™å°±æ˜¯å¤šå‹çš„æœ¬è³ªã€‚\n","description":"","tags":null,"title":"Polymorphism","uri":"/posts/polymorphism/"},{"categories":null,"content":"Week 1 and 2 the Golden Square challenges  Learn to test-drive programs with multiple classes. Learn to break programs up into classes. Learn to debug your programs. Learn to build software as a pair. Learn to explain why test-driving, object-oriented design, debugging, and pairing are powerful practices for software engineers.  Goal  I can TDD anything I can program fluently I can debug anything  Week 3 Databases challenges  Design a database schema with at least two tables from a specification, including a one-to-many relationship between two tables, and create the schema in a database using SQL. Use SQL to query a database to read data from one table or resulting of a join, create new records, update and delete. Integrate a relational database to a program by test-driving classes which implement CRUD methods to send SQL queries to a database.  Week 4 Web applications challenges  Explain how HTTP requests and responses work at a high level Write integration tests for a web application Implement web routes using a lightweight web framework Follow a debugging process for a web application Deploy a web application using a light cloud service such as Heroku  ","description":"","tags":null,"title":"Month1 at Makers","uri":"/posts/month1_at_makers/"},{"categories":null,"content":"Week 1 Peer 9.30am we meet with our peer groups. These should run stand-up style to discuss what we did yesterday and intend to do today, as well as a source of connection and support.\nWeek 1 peer group check-in topic Tues\n What do you think aÂ peerÂ group is for? What do you want to useÂ yourÂ peerÂ group for?  Wed\n Whatâ€™s a priority in your life?  Thurs\n What traits in a person do you find challenging? How do you usually handle it?  Fri\n Name a highlight and a challenge that you experienced this week? How did you deal with the challenge?  The Golden Square Challenges (Solo \u0026 Pairs) Phase One: Testing Bites Work through this series of exercises designed to help you learn how to write tests with RSpec.\n Testing Methods With Equality (Exercise One, Exercise Two, Challenge) Testing Classes With Equality (Exercise One, Ecercise Two, Challenge) Testing For Errors (Exercise, Challenge)  Phase Two: Skill Challenges Work through this series of challenges designed to help you learn a strong test-driving, object-oriented design, and debugging practices.\nSome of these challenges include Process Feedback Challenges, in which you record yourself performing the task and share it with your coach for feedback. These are tagged with a ğŸ“¡.\n Create Your Project Test Drive a Single-Method Program(Exercise, Challenge) Design a Single-Method Program ğŸ“¡(Design single method recipe template, Exercise One, Exercise Two recipe, Exercise Two, Challenge recipe, Challenge) Intermezzo: Debugging 1(Exercise One, Exercise Two, Challenge) Test Drive a Class(Exercise, Challenge) Design a Class ğŸ“¡(Design a class recipe template, Exercise recipe, Exercise, Challenge recipe, Challenge) Intermezzo: Debugging 2(Exercise, Challenge)  Notes    Password Checker (Challenge from Testing for errors)    1 2 3 4  it \"should return NoMethod erron when the password is integer\" do password_checker = PasswordChecker.new expect{password_checker.check(123)}.to raise_error(NoMethodError) end   Which can pass the test, but the below is not:\n1 2 3 4 5  it \"should return NoMethod erron when the password is integer\" do password_checker = PasswordChecker.new result = password_checker.check(123) expect{result}.to raise_error(NoMethodError) end   The reason is the result will be assign to â€œNoMethodErrorâ€, so that can not go to the next step. But the first one we catch the error at the mean time.\n  Gratitudes(Challenge from Testing Classes with Equality)    1 2 3 4 5 6  it \"should reply grateful for sunshine when the format method is called\" do gratitude = Gratitudes.new gratitude.add(\"sunshine\") result = gratitude.format expect(result).to eq \"Be grateful for: sunshine\" end   Which can pass the test, but the below is not:\n1 2 3 4 5  it \"should reply grateful for sunshine when the format method is called\" do gratitude = Gratitudes.new result = gratitude.add(\"sunshine\").format expect(result).to eq \"Be grateful for: sunshine\" end   The reason is because the format method which is defined by ourself, we can not use it in the chain method. If we use the method which ruby defined already, which should be fine. Rewrite like this:\n1 2 3 4 5  it \"should reply grateful for sunshine when the format method is called\" do gratitude = Gratitudes.new result = gratitude.add(\"Sunshine\").push(\"hi\").join(\" \") expect(result).to eq \"Sunshine hi\" end   And it pass the test.\n","description":"","tags":null,"title":"Week1 at Makers","uri":"/posts/week1_at_makers/"},{"categories":null,"content":"Schedule for the first day    Time What     09.45 - 10.45 Welcome to Makers   10.45 - 11.00 BREAK   11.00 - 12.30 Life at Makers by Dana, our Chief Joy Officer   12.30 - 14.00 LUNCH BREAK   14.00 - 15.45 Succeeding at Makers, and beyondâ€¦   15.45 - 16.00 BREAK   16.00 - 16.45 Meet the Coaches   16.45 - 17.00 BREAK   17.00 - 17.30 Social time (optional)    Notes (Life at Makers by Dana)  Ask for help, help each other Emotional Intelligence EI EQ Train attention Meditation Mindfulness could be a gym of your brain Neuroplasticity  Notes (Meet the Coaches)   Asking question\n  Putting 100 % in it, but donâ€™t be too stress and worry at should complete it with every details\n  The EQ workshop and meditation really work.\n  Be nice to yourself donâ€™t assume you are the only one have the negative feeling\n  Ask yourself do you know more yesterday, if yes, then you are absolutely on the right process.\n  Do you have fun, enjoy it? Have fun and enjoy it rather then stress.\n  Keep coding, if you feeling donâ€™t want to code anymore, come and talk with the coach.\n  Try it! TDD!\n  Itâ€™s tough and uncomfortable, but once you have confident to broke down everything, you can solve the problem.\n  Shared and asked in your cohort channel as possible! How you solve the problem, how you work.Sharing knowledge and you are helping each other.\n  There is lots of skills like problem solving, communication skills matter with career, itâ€™s not only coding\n  Connecting with anyone and help everyone.\n  ","description":"","tags":null,"title":"First day at Makers","uri":"/posts/first_day_at_makers/"},{"categories":null,"content":"Array  Remove Duplicates from Sorted Array  1 2 3 4  def remove_duplicates(nums) nums.uniq! return nums.length end   è§£æ³• ä½¿ç”¨ uniq ç¯©é¸å‡ºé™£åˆ—ä¸­çš„ä¸é‡è¦†æ•¸å€¼ä¸¦ä½¿ç”¨!æ”¹è®ŠåŸå§‹é™£åˆ—ã€‚ å†ä½¿ç”¨ length ç®—å‡ºé™£åˆ—é•·åº¦\nBest Time to Buy and Sell Stock II  1 2 3 4 5 6 7  def max_profit(prices) max_profit = 0 prices.each_cons(2) do |price, next_price| next_price \u003e price \u0026\u0026 max_profit = next_price - price + max_profit end max_profit end   è§£æ³•\nRotate Array  1 2 3  def rotate(nums, k) nums.rotate!(-k) end   è§£æ³• æŠŠ nums ä½¿ç”¨ rotate è¼¸è½‰é™£åˆ—ä¸¦ä½¿ç”¨!æ”¹è®ŠåŸå§‹é™£åˆ—(ç§»å‹• (-k))\n","description":"","tags":null,"title":"Leetcode","uri":"/posts/leetcode/"},{"categories":null,"content":"RUBY ä¸€ã€symbols å­—ä¸²ç¬¦è™Ÿ å”¯ä¸€ä¸”ä¸æœƒè®Šå‹•çš„è­˜åˆ¥åç¨± æ•ˆèƒ½æ¯”è¼ƒå¥½ï¼Œä¸éœ€è¦é¡å¤–çš„ç©ºé–“ä¾†å„²å­˜\nå­—ä¸²ç‰©ä»¶(string)æ¯æ¬¡éƒ½æœƒæ›´æ–°è¨˜æ†¶é«”ä½ç½®ï¼Œæ•ˆèƒ½ä¸å¦‚symbolsä½†å„ªé»æ˜¯æœ‰è¨±å¤šæ–¹æ³•å¯ä»¥ä½¿ç”¨å¦‚: reverse, size, downcase\näºŒã€ å•è™Ÿè·Ÿé©šå˜†è™Ÿ\nåœ¨ ruby å®šç¾©æ–¹æ³•æ™‚ï¼Œå•è™Ÿè·Ÿé©šå˜†è™Ÿä¹Ÿæ˜¯æ–¹æ³•çš„ä¸€éƒ¨åˆ†ã€‚\nä¸€èˆ¬ä½¿ç”¨å•è™Ÿæ™‚ï¼Œæ…£ä¾‹ä¸Šæ˜¯è¡¨ç¤ºé€™å€‹æ–¹æ³•æœƒå›å‚³å¸ƒæ—å€¼ (true æˆ– false)\nä½¿ç”¨é©šå˜†è™Ÿï¼Œé€šå¸¸æ˜¯è¡¨ç¤ºé€™å€‹æ–¹æ³•å¯èƒ½æœƒæœ‰ã€Œå‰¯ä½œç”¨ã€æˆ–ã€Œé©šå–œã€ï¼Œä¾‹å¦‚é™£åˆ—æœ‰å€‹å«åš uniq çš„æ–¹æ³•ï¼Œå®ƒå¯ä»¥ç”¢ç”Ÿä¸€å€‹å…ƒç´ ä¸é‡è¦†çš„æ–°é™£åˆ—ã€‚\nuniq æ–¹æ³•æœƒå›å‚³ä¸€å€‹æ–°çš„é™£åˆ—å›ä¾†ï¼Œä¸å½±éŸ¿åŸä¾†çš„è³‡æ–™\n1 2 3 4 5 6 7  original_list = [1,3,4,2,5,2,3] uniq_list = original_list.uniq p original_list [1, 3, 4, 2, 5, 2, 3] p uniq_list [1, 3, 4, 2, 5]   ä½†å¦‚æœä½ æ˜¯ä½¿ç”¨æœ‰é©šå˜†è™Ÿç‰ˆæœ¬çš„ uniq! å°±ä¸åŒäº†ï¼ŒåŸæœ¬çš„é™£åˆ—ä¹Ÿè¢«æ”¹è®Šäº†ã€‚\n1 2 3 4 5 6 7  original_list = [1,3,4,2,5,2,3] uniq_list = original_list.uniq! p original_list [1, 3, 4, 2, 5] p uniq_list [1, 3, 4, 2, 5]   ä¸‰ã€joinã€split join ç”¨æ–¼å°‡é™£åˆ—( array )ä¸­çš„å…ƒç´ ( element )è½‰æˆå­—ä¸²( string )ã€‚\nsplit ç”¨æ–¼å°‡å­—ä¸²( string )è½‰æˆé™£åˆ—( array )\nå››ã€module èˆ‡ modle\näº”ã€namespace\nRails ä¸€ã€å‹æ…‹ text(æ–‡å­—) èˆ‡ string(å­—ä¸²)\ntext æ˜¯ä¸€ç¨®äºŒé€²ä½ï¼Œbinary çš„æ ¼å¼ã€‚å¯ä»¥æ”¾çš„å­—éå¸¸å¤šï¼Œå¯èƒ½å¹¾åƒã€å¹¾è¬å€‹å­—ï¼Œå¯ä»¥ä½¿ç”¨åœ¨å¦‚æ–‡ç« å…§æ–‡\nstring èƒ½æ”¾çš„å­—æ¯”è¼ƒå°‘ï¼Œä½¿ç”¨åœ¨æ–‡å­—ä¸æœƒå¤ªé•·çš„æƒ…æ³ï¼Œä¾‹å¦‚æ–‡ç« æ¨™é¡Œ\näºŒã€ä»€éº¼æ˜¯ migration\nä¸€ç¨®æè¿°è³‡æ–™è¡¨è©²é•·ä»€éº¼æ¨£å­çš„æè¿°æª”ï¼Œå¯ä»¥æ¼¸é€²å¼çš„å»ä¿®æ”¹ä½ çš„è³‡æ–™è¡¨\nå„ªé»: æœ‰ç´€éŒ„ï¼Œæ˜¯ä¸€é€£ä¸²çš„æª”æ¡ˆï¼Œç‚ºè³‡æ–™è¡¨çš„æ¼”é€²éç¨‹(æ¬„ä½è®ŠåŒ–ï¼Œæ–°å¢ä¿®æ”¹åˆªé™¤) å¯ä»¥é€²è¡Œç‰ˆæœ¬æ§åˆ¶\nå¦‚æœè¦ä½¿ migration å…·ç¾åŒ–ï¼Œåœ¨çµ‚ç«¯æ©Ÿä¸‹æŒ‡ä»¤ï¼š\nrails db:migrate ä¸‰ã€CSRF æ”»æ“Š\nCSRF (Cross-site request forgery)ï¼Œè·¨ç«™è«‹æ±‚å½é€ ã€‚ç›®çš„ä¸ä¸€å®šæ˜¯è¦å–å¾—ä½¿ç”¨è€…å¸³æˆ¶çš„æ§åˆ¶æ¬Šæˆ–å€‹è³‡ï¼Œä½†å¯ä»¥ç”¨å…¶ä»–ä½¿ç”¨è€…çš„åç¾©åŸ·è¡ŒæŸäº›æ“ä½œã€‚\né€™é¡æ”»æ“Šçš„ç‰¹é»æ˜¯ä»¥ä½¿ç”¨è€…èº«ä»½ç™¼èµ·\nä¾‹å¦‚ï¼Œé§­å®¢æƒ³åˆªæ‰æŸå€‹ Blog å¹³å°çš„æ–‡ç« ï¼Œé›–ç„¶ä»–æ²’æœ‰é€™å€‹ç¶²ç«™çš„ä½¿ç”¨æ¬Šé™ï¼Œä½†çŒœåˆ°äº†å¾Œå°çš„è·¯å¾‘: /admin/posts/1ä¾¿å¯ä»¥ä½¿ç”¨ delete æ–¹æ³•ä¾†åˆªé™¤ã€‚æ¥è‘—æŠŠé€™å€‹é€£çµåŒ…è£æˆä¸­çè³‡è¨Šï¼Œå¯„é€çµ¦æœ‰æ¬Šé™ä¸”å‰›å¥½è™•æ–¼ç™»å…¥ç‹€æ…‹çš„ X å…ˆç”Ÿï¼Œç•¶ X å…ˆç”Ÿé»ä¸‹é€£çµï¼Œæ–‡ç« å°±æœƒé€é X å…ˆç”Ÿçš„æ¬Šé™ä¾†åˆªé™¤äº†ã€‚\né€™å€‹ä¾‹å­ä¸­ï¼ŒCSRF æ”»æ“Šä¹‹æ‰€ä»¥å¯ä»¥æˆåŠŸï¼Œä¸¦ä¸æ˜¯å› ç‚ºé§­å®¢ç²å– X å…ˆç”Ÿ çš„ cookie è³‡è¨Šï¼Œè€Œæ˜¯å½è£æˆæ˜¯ X å…ˆç”Ÿã€‚\nè§£æ±ºæ–¹æ³•:\n æª¢æŸ¥ referer æ¬„ä½ (å¯é€éæª¢æŸ¥ Header ä¸­çš„ Referer æ¬„ä½æ˜¯å¦å­˜åœ¨åŠæ˜¯å¦ç‚ºæ­£å¸¸æµç¨‹ç¶²åŸŸï¼Œè—‰æ­¤ç¢ºèªç™¼é€ç«¯çš„å‰ä¸€å€‹é é¢æ˜¯å¦è¢«å½é€ æˆ–åˆæ³•ä½¿ç”¨ã€‚) åŠ å…¥é©—è­‰ token (é™¤äº†é©—è­‰ Cookie çš„ Token ä¹‹å¤–ï¼Œé‚„éœ€å¦å¤–åœ¨ Request ä¸­æ”¾å…¥éš±è—çš„å‹•æ…‹ Token åƒæ•¸ã€‚ç­‰åŒæ–¼è¦æ±‚æ¯æ¬¡çš„ Request éƒ½å¿…é ˆå¸¶ä¸Šå¯†ç¢¼)  å››ã€ä»€éº¼æ˜¯ erb æª” å¯ä»¥åœ¨ HTML è£¡é¢å¯« ruby çš„ç¨‹å¼ç¢¼ã€‚ERbå…¶å¯¦å¯ä»¥ç”¨ä¾†ç”¢ç”Ÿä»»ä½•æ–‡å­—æª”æ ¼å¼ï¼Œä¾‹å¦‚CSVã€XMLã€JavaScriptç­‰ç­‰\näº”ã€N+1\nN+1 æŒ‡çš„æ˜¯ SQL æ’ˆè³‡æ–™æ™‚ï¼Œæ˜æ˜å¯ä»¥ä¸€æ¬¡æ’ˆå®Œ (ä¾‹å¦‚è¦ä¸‰ç­†è³‡æ–™)ï¼Œå»ä½¿ç”¨é€ç­†æ’ˆè³‡æ–™çš„æ–¹å¼è™•ç† (æ¯æ¬¡åªæ’ˆä¸€ç­†è³‡æ–™) 1æ¬¡æŸ¥è©¢ + N æ¬¡çš„é—œè¯è³‡æ–™æŸ¥è©¢å°±æœƒè®“è³‡æ–™åº«æ•ˆèƒ½æå¤±\nè§£æ±ºæ–¹æ³•: æŸ¥è©¢è³‡æ–™çš„éç¨‹ä¸­ï¼Œä½¿ç”¨includeså¤šæ’ˆä¸€é»è³‡æ–™å›ä¾†ã€‚è®Šæˆ 1 + 1\nå…­ã€ä¸­æ§å°æ¨¡å¼ rails console\nrails c å¯åœ¨è£¡é¢ä¿®æ”¹è³‡æ–™åŠæŸ¥è©¢è³‡æ–™ã€‚ è·Ÿ irb æœ¬è³ªä¸Šæ²’æœ‰å¤ªå¤§å·®åˆ¥ï¼Œä¸­æ§å°æ¨¡å¼æœƒæŠŠæ•´å€‹ rails ç’°å¢ƒï¼ŒåŒ…å«ç›¸é—œmodel ã€ç›¸é—œå¥—ä»¶æ•´å€‹è¼‰ä¸‹ä¾†ã€‚\nè€Œ irb å°±æ˜¯ä¸€èˆ¬ ruby ç’°å¢ƒ\nä¸ƒã€ORM\nObject Relational Mapping\nç›®çš„: ç°¡åŒ–è³‡æ–™åº«æ“ä½œèªæ³•\né€éç‰©ä»¶çš„æ–¹å¼ï¼Œå»æ“ä½œè³‡æ–™è¡¨ï¼Œå†æ›å¥è©±èªªï¼Œ æŠŠç‰©ä»¶å°å‘çš„èªæ³•ï¼Œé€émodelï¼Œè½‰æ›æˆ SQL æŸ¥è©¢èªå¥ï¼Œå°é–‹ç™¼äººå“¡ä¾†èªªè¼•é¬†å¾ˆå¤šã€‚æ’ˆå›ä¾†çš„è³‡æ–™å†äº¤çµ¦ model ç‰©ä»¶åŒ–\nä¾‹å¦‚: Book.all ç­‰åŒæ–¼ select * from books\n SQL å¯ä»¥è¢« ORM å–ä»£å—ï¼Ÿ\n ç•¶é‡åˆ°å•é¡Œæ™‚ï¼Œæ¯”å¦‚æ•ˆèƒ½ï¼Œé‚„æ˜¯éœ€è¦åœ¨ log (ç´€éŒ„) è£¡çœ‹ SQL çš„èªæ³•ï¼Œçœ‹æ˜¯å¦å¯«éŒ¯é€ æˆç¿»è­¯éŒ¯èª¤ã€‚ è¤‡é›œçš„æŸ¥è©¢é‚„æ˜¯å¿…é ˆä½¿ç”¨ SQL èªæ³•   ORM åŸºæœ¬æ“ä½œ CRUD\nC new æ–°å¢ä¸€ç­†è³‡æ–™ create æ–°å¢ä¸€ç­†è³‡æ–™ï¼Œä¸¦å¯«é€²è³‡æ–™åº« (å¯«å…¥å¤±æ•—æ™‚é»˜é»˜ rollback) create! åŒä¸Šï¼Œä½†å¯«å…¥å¤±æ•—æ™‚æœƒå™´éŒ¯èª¤è¨Šæ¯ (å¯ä½¿ç”¨ beging rescure æ•æ‰) R first æ‰¾å‡ºç¬¬ä¸€ç­†è³‡æ–™ last æ‰¾å‡ºæœ€å¾Œä¸€ç­†è³‡æ–™ find:æ‰¾å‡ºå–®ä¸€ç­†è³‡æ–™ï¼Œä¸”åªèƒ½é€éidå»æœå°‹ã€‚æ‰¾ä¸åˆ°æ™‚ find æœƒå™´éŒ¯èª¤è¨Šæ¯ (ä¾‹å¤–è¨Šæ¯) find_by æ‰¾å‡ºå–®ä¸€ç­†è³‡æ–™ï¼Œä¸”å¯ä»¥é€éè‡ªè¨‚æ¢ä»¶å»æœå°‹ã€‚æ‰¾ä¸åˆ°æ™‚ find_by æœƒå›å‚³çš„å€¼æ˜¯nil find_each è³‡æ–™é‡å¤§æ™‚ï¼Œé è¨­æ¯æ¬¡æŠ“ 1000 ç­† all æ‰¾å‡ºæ‰€æœ‰è³‡æ–™ select(â€™nameâ€™) åŒä¸Šï¼Œä½†åªé¸å– name æ¬„ä½ where(name: â€˜Happyâ€™) æ‰¾å‡ºæ‰€æœ‰ name æ¬„ä½æ˜¯ Ruby çš„è³‡æ–™ order(â€˜id DESCâ€™) ä¾ç…§ id å¤§å°åå‘æ’åº order(id: :desc) åŒä¸Š limit(3) åªå–å‡º 3 ç­†è³‡æ–™ count average sum maximum èˆ‡ minimum U update update_all increment æ¬„ä½çš„å€¼ + 1 (æ²’æœ‰å­˜æª”åŠŸèƒ½ï¼Œè¦è¨˜å¾— save) toggle æŠŠåŸæœ¬çš„ true / false å€¼å°èª¿ (æ²’æœ‰å­˜æª”åŠŸèƒ½ï¼Œè¦è¨˜å¾— save) D delete destroy åˆªçš„éç¨‹ä¸­ï¼Œæœ‰ä¸€é€£ä¸²çš„ callback destroy_all\nScope\næŠŠå•†æ¥­é‚è¼¯å¯«åˆ° model è£¡ å–ä»£ controller ä¸€å † where æ˜¯ä¸€ç¨®é¡åˆ¥æ–¹æ³•\nå…«ã€ MVC\nMVC æ¶æ§‹ Model View Controller\næµç¨‹: ä¸€å€‹ä½¿ç”¨è€…ï¼Œé€é route(ç¬¬ä¸€ç·šè™•ç† request çš„è§’è‰²ï¼Œåœ¨ rails è£¡éå¸¸é‡è¦) å°åˆ°æŸä¸€å€‹controllerï¼Œä¹Ÿè¨±éœ€è¦èª¿è³‡æ–™(è·Ÿmodel)ï¼Œä¹Ÿè¨±ä¸ç”¨ã€‚æŸ¥å®Œä¹‹å¾Œ(å¦‚æœéœ€è¦æŸ¥è©¢çš„è©±)æŠŠè³‡æ–™äº¤é‚„çµ¦controllerï¼Œç”¨ view å»åšé é¢å‘ˆç¾ (HTML \u0026 CSS)\nModel: æŠ½è±¡å±¤çš„æ¦‚å¿µ model ä¸æ˜¯è³‡æ–™è¡¨ï¼Œè³‡æ–™è¡¨æ˜¯ table (å¯¦é«”å­˜åœ¨çš„æ±è¥¿)\nController: æœ¬èº«æ˜¯ä¸€å€‹ class ï¼Œ ä¸€å€‹ä¸€å€‹çš„ action å°±æ˜¯æ–¹æ³•\nView: åœ¨ controller acton (é€é model å‘è³‡æ–™åº«) æ‹¿åˆ°çš„ raw dataï¼Œæ­é…ç•«é¢è·Ÿè¡¨å–®ï¼Œçµ„æˆä¸€èˆ¬ä½¿ç”¨è€…å¯ä»¥è®€çš„è¡¨æ ¼ã€è¡¨å–®\nå„ªé»âˆ¶ æ­¸é¡æ•´é½Šï¼Œæ˜“æ–¼å‰å¾Œç«¯åˆ†å·¥ æµç¨‹æ§åˆ¶: controller è³‡æ–™é‚è¼¯: model ç•«é¢ç›¸é—œ: view\n View æŠ€è¡“ä¸Šä¾†èªªï¼Œå…¶å¯¦æ˜¯æœƒå›å‚³ HTML å…§å®¹çš„æ–¹æ³•(methodã€function)\n ä¹ã€è³‡æ–™é©—è­‰ å‰ç«¯é©—è­‰: é‚„æ²’é€å‡ºå»å‰ï¼Œåœ¨è¡¨å–®ç”¨ JavaScriptæ“‹ä¸‹ä¾†ï¼Œç¼ºé»é©—è­‰æ˜¯å®¹æ˜“è¢«é¿é–‹ å¾Œç«¯é©—è­‰: å¯«é€²è³‡æ–™åº«ä¹‹å‰ï¼Œå¦‚æœå…§å®¹æ²’å¡«ã€æ ¼å¼æœ‰å•é¡Œç­‰ï¼ŒæŠŠå®ƒæ“‹ä¸‹ä¾†ã€‚\nåœ¨ model å±¤ï¼Œæ¯”å¦‚åå­—æ¬„ä½å¿…å¡«ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„é©—è­‰å™¨\n1  validates :name, presence: true   å…¶ä»–åœ¨ rails guide çš„ Validation Helpers é‚„æœ‰æ›´å¤šå¯ä»¥ä½¿ç”¨çš„é©—è­‰\nä¸å¯«åœ¨ controller çš„åŸå› ï¼Œæ¯ä¸€å€‹ controller è¦å¯«å»éƒ½è¦åšæª¢æŸ¥\nmodel æ˜¯æ•´åŒ…åšæª¢æŸ¥\n è‹¥åŒæ™‚æœ‰ä¸åŒç³»çµ±å­˜å–è³‡æ–™åº«çš„ç‹€æ³(æ¯”å¦‚PHP)ï¼Œå‰‡ç„¡æ³•ä¿è­‰è³‡æ–™ä¸€å®šç„¡èª¤ã€‚é€™æ™‚å¯ä»¥åœ¨è³‡æ–™åº«æœ¬é«”æ“‹æ‰ï¼Œæ¯”è¼ƒå®‰å…¨\n  å¦‚ä½•ç¹éé©—è­‰ c.save(validate: false)\n åã€ Callback\nè³‡æ–™å­˜æª”çš„æµç¨‹æœƒç¶“éä»¥ä¸‹æµç¨‹: save \u003e valid \u003e before_validation \u003e validate \u003e after_validate \u003e before_save \u003e before_create \u003e create \u003e after_create \u003e after_save \u003e after_commit\nbefore_save è³‡æ–™å¯«é€²è·Ÿæ›´æ–°éƒ½æœƒåŸ·è¡Œ before_create è³‡æ–™è¢«å»ºç«‹çš„æ™‚å€™æ‰æœƒåŸ·è¡Œ\nåä¸€ã€ Active Record\næ˜¯ä¸€ç¨®è¨­è¨ˆæ¨¡å¼ï¼Œæœ¬èº«æ˜¯ä¸€å€‹ç‰©ä»¶ã€‚ æ¯ä¸€ç­†è³‡æ–™åŒ…è£æˆä¸€å€‹ç‰©ä»¶ï¼Œä¸¦åœ¨å…¶å¢åŠ è³‡æ–™æ“ä½œé‚è¼¯ï¼Œè®“è³‡æ–™çš„å­˜å–æ›´ä¾¿åˆ©\né€™å€‹ç‰©ä»¶ï¼Œç”±æ¬„ä½ã€åŸºæœ¬æ“ä½œã€å•†æ¥­é‚è¼¯çµ„æˆ\næˆ‘å€‘å¯ä»¥èªª MVC è£¡çš„ Model = ä¾ç…§ Active Record æ¨¡å¼è¨­è¨ˆçš„ç”¢ç‰©\nè€Œ Active Record æ˜¯ä¸€ç¨® ORM æ¡†æ¶\nActive Record ORM Model Database Table\nåäºŒã€äºŒå¤§å“²å­¸\n(ä¸€) æ…£ä¾‹å„ªæ–¼è¨­å®š Convention Over Configuration(CoC) æ…£ä¾‹ = å¯ä»¥å°‘å¯«ä¸å¿…è¦çš„ç¨‹å¼ç¢¼ å­¸ç¿’ Rails ï¼Œç­‰æ–¼æ˜¯åœ¨å­¸ç¿’ Rails çš„æ…£ä¾‹ ä¾‹å¦‚:\n Model: å¤§å¯«ã€å–®æ•¸ Table: å°å¯«ã€è¤‡æ•¸ æ¯å€‹è¡¨æ ¼é è¨­æœƒæœ‰ä¸€å€‹å«åš id çš„æµæ°´ç·¨è™Ÿæ¬„ä½ åœ¨ migration è£¡é è¨­æœƒæœ‰å€‹ timestampsï¼Œåœ¨å…·ç¾åŒ–çš„æ™‚å€™ï¼Œæœƒè½‰æ›æˆ created_at updated_até€™å…©å€‹æ™‚é–“æ¬„ä½ï¼Œåœ¨è³‡æ–™æ–°å¢æˆ–æ›´æ–°çš„æ™‚å€™è‡ªå‹•å¯«ç•¶ä¸‹æ™‚é–“ model è·Ÿ table çš„å°æ‡‰ pluralize æ‰¾å‡ºè¤‡æ•¸åè©çš„æ–¹æ³• singularize æ‰¾å‡ºå–®æ•¸åè©çš„æ–¹æ³• æ¯”å¦‚  \"person\".pluralize =\u003e \"people\" \"people\".singularize =\u003e \"person\"  è‹¥éœ€è‡ªå®šç¾©ï¼Œåœ¨config/initializers/inflections.rbè¨­å®š\n æª”æ¡ˆè·Ÿ model çš„å°æ‡‰ã€‚é¡åˆ¥åç¨±ç”±å…©å€‹ä»¥ä¸Šçš„å–®å­—çµ„æˆæ™‚ï¼ŒModel åç¨±æ‡‰è¦éµå¾ª Ruby çš„å‘½åæ…£ä¾‹ï¼Œæ¡ç”¨é§å³°å¼å‘½åï¼Œè€Œè³‡æ–™è¡¨åç¨±å¿…é ˆæ¡ç”¨åº•ç·šåˆ†éš”ã€‚ underscoreè®Šæˆè›‡å¼çš„æ–¹æ³• camlizeè®Šæˆé§å³°å¼ æ¯”å¦‚  \"HappyHour\".underscore =\u003e \"happy_hour\" \"happy_hour\".camlize =\u003e \"HappyHour\" å¤–éµ - æ‡‰ç”¨è³‡æ–™è¡¨çš„å–®æ•¸å½¢åŠ ä¸Š _id ä¾†å‘½åï¼Œæ¯”å¦‚ item_id, order_idã€‚Active Record æœƒåœ¨ä½ å»ºç«‹ Model ä¹‹é–“çš„é—œè¯æ™‚ï¼Œå°‹æ‰¾é€™ç¨®å½¢å¼çš„æ¬„ä½ singularized_table_name_idã€‚  ç•¶ model ä¹‹é–“çš„é—œé€£ä¸æ˜¯ç”¨æ…£ä¾‹æ™‚ï¼Œå¿…é ˆåŠ ä¸Š foreign_key\næ¯”å¦‚æœ‰ä¸€å€‹ store çš„ model:\n1  belongs_to :owner #foreign_key: 'owner_id'   foreign_key æ˜¯éµå¾ªæ…£ä¾‹ï¼Œæ‰€ä»¥å¾Œé¢å¯ä»¥çœç•¥ï¼Œä½†å¦‚æœæ˜¯æ¥æ‰‹åˆ¥äººæ¡ˆå­æˆ–è¨­è¨ˆï¼Œå¯èƒ½åŸæœ¬ä¸æ˜¯ç”¨ ruby æˆ– rails å¯«çš„ï¼Œå‰‡éœ€å¯«å‡º foreign_key å¦‚ä¸‹\n1  belongs_to :owner foreign_key: 'u_id'    ä¸»éµ(æµæ°´ç·¨è™Ÿæ¬„ä½id) - Active Record é è¨­æœƒä½¿ç”¨ä¸€å€‹å«åš id çš„æ•´æ•¸æ¬„ä½ï¼Œä½œç‚ºè³‡æ–™è¡¨çš„ä¸»éµã€‚æ¡ç”¨ Active Record migration ä¾†å»ºç«‹è³‡æ–™è¡¨æ™‚ï¼Œé€™å€‹æ¬„ä½æœƒè‡ªå‹•ç”¢ç”Ÿã€‚\n  åƒç…§å€¼\n  user:references æœƒé€ å‡º user_id é€™å€‹æ•¸å­—å‹æ…‹æ¬„ä½ æœƒæŒ‡å‘ user é€™å€‹ model çš„ä¸»éµ(æµæ°´ç·¨è™Ÿæ¬„ä½id)\n(äºŒ) Donâ€™t repeat yourself\nåä¸‰ã€é—œè¯æ€§\nä¸€å°ä¸€ã€ä¸€å°å¤šã€å¤šå°å¤š has_one ä¸æ˜¯è¨­å®šï¼Œå®ƒæ˜¯ä¸€å€‹é¡åˆ¥æ–¹æ³•ï¼Œä¾‹å­ä¸­çš„ store æ˜¯å®ƒçš„åƒæ•¸ åŸ·è¡Œ has_one å¾Œï¼Œæœƒå‹•æ…‹åšå‡ºå››å€‹æ–¹æ³•ï¼Œæ¯”å¦‚\n1 2 3 4 5 6 7  has_one :store #åšå‡ºä»¥ä¸‹çš„æ–¹æ³• #store #store= #build_store(ä¸æœƒç›´æ¥å¯«é€²è³‡æ–™åº«) #create_store    1 2 3 4 5  belongs_to :owner #åšå‡ºä»¥ä¸‹çš„æ–¹æ³• #owner #owner=   1 2 3 4 5 6 7  has_many :books #åšå‡ºä»¥ä¸‹çš„æ–¹æ³• #books #books= #build #create   åå››ã€ includeã€extendã€reuqireã€load\nrequire,loadç”¨æ–¼æª”æ¡ˆï¼Œå¦‚.rbç­‰ç­‰çµå°¾çš„æª”æ¡ˆã€‚include,loadå‰‡ç”¨æ–¼åŒ…å«ä¸€å€‹æª”æ¡ˆä¸­çš„æ¨¡çµ„ includeæ˜¯å¼•ç”¨æ¨¡çµ„å…§çš„æ–¹æ³•ä¾†æ“´å……å¯¦é«”æ–¹æ³•ï¼Œè€Œextendå‰‡æ˜¯æ“´å……é¡åˆ¥æ–¹æ³•\nåäº”ã€API\nåå…­ã€RESTful\nåä¸ƒã€CACHE æš«å­˜\nåå…«ã€ Active Job èƒŒæ™¯å·¥ä½œ\nåä¹ã€ å‰ç«¯çš„ partial å’Œ helper å·®åˆ¥\näºŒåã€Gemfile çš„ç”¨æ„ï¼Ÿ\näºŒåä¸€ã€ namespace\n","description":"","tags":null,"title":"Ruby on Rails é¢è©¦é¡Œæº–å‚™","uri":"/posts/interview/"},{"categories":null,"content":"LICEcapå¯éŒ„è£½ç•«é¢ç›´æ¥å­˜æˆgif åœ¨å°ˆæ¡ˆçš„ä½¿ç”¨ä¸Šéå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥é¦¬ä¸Šå‘ˆç¾å‡ºä½ è£½ä½œçš„åŠŸèƒ½ï¼Œè®“ä¸€èµ·é–‹ç™¼çš„çµ„å“¡ä¸€ç›®ç­ç„¶ã€‚\nMacè·ŸWindowséƒ½å¯ä»¥ä½¿ç”¨ å®˜ç¶²ä¸‹è¼‰\nMacä½¿ç”¨è€…è¨˜å¾—ä¸‹è¼‰å¾Œï¼Œåˆ° ç³»çµ±åå¥½è¨­å®š -\u003e å®‰å…¨æ€§èˆ‡éš±ç§æ¬Š -\u003e è¢å¹•éŒ„è£½ è£¡\næŠŠLICEcapæ‰“å‹¾(åç°ä¸èƒ½ç·¨è¼¯æ™‚è«‹æŒ‰è¦–çª—å·¦ä¸‹è§’çš„é–é ­ï¼Œå³å¯ç™»å…¥æ¬Šé™ç·¨è¼¯)\n","description":"","tags":null,"title":"å¥½ç”¨å·¥å…· LICEcap","uri":"/posts/licecap/"},{"categories":null,"content":"å¤šåœ‹èªç³»è¨­ç½® step. 1 æ›´æ”¹é è¨­\nRails æ”¯æŒå¤šåœ‹èªç³»(Internationalizationï¼Œç°¡ç¨±I18n)ï¼Œé è¨­çš„èªç³»æ˜¯è‹±æ–‡ï¼Œå¦‚è¦ä¿®æ”¹ï¼Œè«‹è‡³config/application.rb\n1 2  config.i18n.available_locales = [:en, :'zh-TW'] #æ”¯æ´èªç³» config.i18n.default_locale = :'zh-TW' #é è¨­èªç³»   step. 2 æ–°å¢è©åŒ¯æª”\næ¥è‘—ï¼Œåœ¨config/localesæ–°å¢zh-TW.yml é€™å€‹è©åŒ¯æª”\n1 2  zh-TW:welcome:\"æ­¡è¿\"  ä¿®æ”¹é¦–é index.htmlå¦‚ä¸‹\n1  \u003ch1\u003e\u003c%= t('welcome') %\u003e\u003c/h1\u003e   ä¾¿å¯ä»¥çœ‹åˆ°é¦–é çš„\"welcome\"è®Šæˆ\"æ­¡è¿\"\n æª”æ¡ˆå‰¯æª”åYMLæ˜¯ä¸€ç¨®YAML Documentï¼Œæ ¼å¼çš„ç¸®æ’å¿…é ˆä½¿ç”¨å…©å€‹ç©ºæ ¼\n step. 3 æ–°å¢Gem\nåœ¨Gemfileæ–°å¢gem \"rails-i18n\" æ¥è‘—bundle install\nstep. 4 Modelå­—æ®µç¿»è­¯\n1 2 3 4 5 6 7 8 9  zh-TW:welcome:\"æ­¡è¿\"activerecord:models:feedback:\"å›é¥‹\"attributes:feedback:author:\"ä½ çš„åå­—\"message:\"è¨Šæ¯\"  å°±æœ‰è‹±æ–‡ä»‹é¢åŠä¸­æ–‡ä»‹é¢\nstep. 4 åˆ‡æ›å¤šåœ‹èªç³»\n åœ¨app/controllers/application_controller.rbæ–°å¢ä»¥ä¸‹é€™æ®µ  1 2 3 4 5 6 7 8 9 10 11  before_action :set_locale def set_locale if params[:locale] \u0026\u0026 I18n.available_locales.include?( params[:locale].to_sym ) session[:locale] = params[:locale] end I18n.locale = session[:locale] || I18n.default_locale end   æ¥è‘—åœ¨app/views/layouts/application.html.erbæ–°å¢è·¯å¾‘  1 2  \u003c%= link_to \"ä¸­æ–‡ç‰ˆ\", :controller =\u003e controller_name, :action =\u003e action_name, :locale =\u003e \"zh-TW\" %\u003e \u003c%= link_to \"English\", :controller =\u003e controller_name, :action =\u003e action_name, :locale =\u003e \"en\" %\u003e   å°±å¯ä»¥åœ¨é é¢çœ‹åˆ°ä¸­æ–‡ç‰ˆè·Ÿè‹±æ–‡ç‰ˆçš„åˆ‡æ›äº†ï¼\n","description":"","tags":null,"title":"Rails I18n","uri":"/posts/rails_i18n/"},{"categories":null,"content":"ç”¨Railsä¸²æ¥ç¬¬ä¸‰æ–¹æ”¯ä»˜ MVC\nM = Model ç”¢ç”Ÿè¨‚å–®çš„é‚è¼¯ï¼Œæ¯”å¦‚\n  é©—è­‰ validates(ä½¿ç”¨è€…åå­—ã€é‡‘é¡ã€è¨‚å–®ç·¨è™Ÿusername ã€amountã€ order_no)\n  before_create åœ¨æœ¬ä¾‹ä¸­æ˜¯å®šç¾©build_order_noé€™å€‹æ–¹æ³•\n  enum åœ¨æœ¬ä¾‹ä¸­æ˜¯ä½¿ç”¨åœ¨ä»˜æ¬¾æ–¹å¼çš„å€¼è¨­å®špay_type)\n  V C = Controller æµç¨‹æ§åˆ¶(ç”¢ç”Ÿæ±è¥¿ã€åšä»€éº¼äº‹æƒ…)\n before_create : åœ¨ rails model çš„callbackï¼Œä»£è¡¨é€™ç­†è³‡æ–™è¢«å»ºç«‹çš„æ™‚å€™æˆ‘è¦åšä»€éº¼äº‹æƒ…ï¼Œå‘¼å«ä»€éº¼æ–¹æ³•ã€‚æ¥è‘—å¯ä»¥è‡ªå·±å®šç¾©æ–¹æ³•ä¾†ä½¿ç”¨ã€‚ enum : åˆ—èˆ‰\n ","description":"","tags":null,"title":"Rails Payment Gateway","uri":"/posts/rails_payment_gateway/"},{"categories":null,"content":"åœ¨ rails ä¸Šä½¿ç”¨ devise å¥—ä»¶ step 1. åœ¨GemfileåŠ ä¸Š\ngem 'devise' æˆ–æ˜¯åœ¨è©²ç›®éŒ„çš„çµ‚ç«¯æ©Ÿä½¿ç”¨æŒ‡ä»¤% bundle add 'devise'\nstep 2.\n% bundle install step3.\n% rails g devise:install å°±æœƒå¹«æˆ‘å€‘ç”Ÿæˆå…©å€‹åœ¨configä¸‹é¢çš„æª”æ¡ˆ\nconfig/initializers/devise.rb config/locales/devise.en.yml æ¥è‘—åœ¨çµ‚ç«¯æ©Ÿçš„ç•«é¢åŒæ™‚é¡¯ç¤ºéœ€è¦å®Œæˆçš„æŒ‡ä»¤:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  Some setup you must do manually if you haven't yet: 1. Ensure you have defined default url options in your environments files. Here is an example of default_url_options appropriate for a development environment in config/environments/development.rb: config.action_mailer.default_url_options = { host: 'localhost', port: 3000 } In production, :host should be set to the actual host of your application. 2. Ensure you have defined root_url to *something* in your config/routes.rb. For example: root to: \"home#index\" 3. Ensure you have flash messages in app/views/layouts/application.html.erb. For example: \u003cp class=\"notice\"\u003e\u003c%= notice %\u003e\u003c/p\u003e \u003cp class=\"alert\"\u003e\u003c%= alert %\u003e\u003c/p\u003e 4. You can copy Devise views (for customization) to your app by running: rails g devise:views   ä¸€æ­¥ä¸€æ­¥çš„æŒ‰ç…§æŒ‡ä»¤å®Œæˆã€‚\nstep 4.\n% rails g devise User é€™å€‹æŒ‡ä»¤æœƒå¹«æˆ‘å€‘ç”Ÿæˆä¸€å€‹migrationæª” (db/migrate/20220423155313_devise_create_users.rb) ä»¥åŠä¸€å€‹æ–°çš„modelæª”(app/models/user.rb), é‚„æœ‰åœ¨routes.rbæ–°å¢è·¯å¾‘divise_for :users\nstep 5. æ›´æ–°è³‡æ–™åº«\n% rails db:migrate step 6. ç¢ºèªè·¯å¾‘\n% rails routes æ‰¾å‡ºuserçš„è·¯å¾‘\n% rails routes | grep user å¯ä»¥çœ‹åˆ°å„è·¯å¾‘å°ç…§çš„è¡Œç‚ºï¼Œæ¯”å¦‚:\n1 2 3  new_user_session (sign_in) destroy_user_session (sign_out) new_user_registration (sign_up)   step 7. sign_up\nåœ¨çµ‚ç«¯æ©Ÿè¼¸å…¥rails s\né–‹å•Ÿhttp://localhost:3000/users/sign_up å°±å¯ä»¥çœ‹åˆ°è¨»å†Šé é¢äº†\nstep 8. æ¸…æ‰cookies\nè¨»å†Šä¹‹å¾Œï¼Œå› ç‚ºç›®å‰çš„é é¢é‚„æ²’æœ‰åšsign_outçš„é€£çµï¼Œæ‰€ä»¥å†è¼¸å…¥ä¸€æ¬¡http://localhost:3000/users/sign_upæœƒçœ‹åˆ°è¨Šæ¯:You are already signed in. é€™æ™‚å€™çš„ä½ ï¼Œå¯ä»¥æ‰“é–‹é–‹ç™¼è€…å·¥å…·ä¸­çš„Applicationçš„Cookiesï¼ŒæŠŠè©²æª”æ¡ˆåç¨±å°æ‡‰çš„å€¼åˆªæ‰ï¼Œå°±å¯ä»¥æ¸…æ‰è¨˜éŒ„é€²å…¥åˆ°sign_upé é¢\nstep 9. Bulma\nåƒè€ƒhttps://bulma.io/documentation/overview/ ä¸‹è¼‰Bulmaï¼ŒæŠŠæ¨£å¼è¡¨æ’å…¥app/views/laywoutè³‡æ–™å¤¾ä¸­çš„application.html.erb\n1  \u003clink rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css\"\u003e   æ¥è‘—é‚„è¦åœ¨åŒå€‹æª”æ¡ˆæ–°å¢meta tag\n1  \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1\"\u003e   step 10. æ–°å¢navbar åœ¨ app/views æ–°å¢sharedè³‡æ–™å¤¾ï¼Œä¸¦åœ¨è£¡é¢æ–°å¢_navbar.html.erbæª”ï¼Œæ¥è‘—å›åˆ°laywoutçš„application.html.erbï¼Œåœ¨bodyçš„åœ°æ–¹æŠŠå‰›å‰›çš„æª”æ¡ˆæ¸²æŸ“ã€‚\n1  \u003c%= render 'shared/navbar' %\u003e   step 11. ç·¨è¼¯navbar\nå›åˆ°_navbar.html.erbæª”ï¼ŒæŠŠBULMAçš„Basic Navbaræ¨£å¼è²¼ä¸Šå»ï¼Œå†æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚ç·¨è¼¯:\n1 2 3 4 5 6 7 8 9 10 11 12 13  \u003cnav class=\"navbar\" role=\"navigation\" aria-label=\"main navigation\"\u003e \u003cdiv class=\"navbar-brand\"\u003e \u003ca class=\"navbar-item\" href=\"https://bulma.io\"\u003e \u003cimg src=\"https://bulma.io/images/bulma-logo.png\" width=\"112\" height=\"28\"\u003e \u003c/a\u003e \u003ca role=\"button\" class=\"navbar-burger\" aria-label=\"menu\" aria-expanded=\"false\" data-target=\"navbarBasicExample\"\u003e \u003cspan aria-hidden=\"true\"\u003e\u003c/span\u003e \u003cspan aria-hidden=\"true\"\u003e\u003c/span\u003e \u003cspan aria-hidden=\"true\"\u003e\u003c/span\u003e \u003c/a\u003e \u003c/div\u003e (éé•·çœç•¥ï¼Œç¨‹å¼ç¢¼åœ¨: https://bulma.io/documentation/components/navbar/)   step 12. æ–°å¢sign_upã€sign_outã€sign_iné€£çµåœ¨_navbar.html.erbæª”\n1 2 3 4 5 6 7 8 9  \u003c% if  user_signed_in? %\u003e \u003c%= link_to 'Sign out', destroy_user_session_path, method: :delete, class: \"button is-primary\" %\u003e \u003c% else  %\u003e \u003c%= link_to 'Sign up', new_user_registration_path, class: \"button is-primary\" %\u003e \u003c%= link_to 'Log in', new_user_session_path, class: \"button is-light\" %\u003e \u003c% end %\u003e   step 13. åœ¨é¦–é å°å‡ºç™»å…¥è€…è³‡æ–™\n1 2 3  \u003c% name  = current_user.present? ? current_user.email : 'è¨ªå®¢' %\u003e \u003ch1\u003eWelcome, \u003c%= name %\u003e\u003c/h1\u003e   åˆ°é€™é‚Šç‚ºæ­¢ï¼Œå°±å¯ä»¥çœ‹åˆ°ä¸€å€‹åŸºæœ¬çš„ç™»å…¥é é¢äº†ã€‚\n åƒè€ƒè³‡æ–™:https://youtu.be/jd1gOhpETIA\n ","description":"","tags":null,"title":"Ruby on Rails devise","uri":"/posts/ruby_on_rails_devise/"},{"categories":null,"content":"å€™é¸äººç¥¨é¸ç³»çµ±ç´”æ‰‹å·¥æ‰“é€  ï¼åŸºæœ¬æ–°å¢ä¿®æ”¹åˆªé™¤ä»‹ç´¹\nï¼ä½¿ç”¨vscodeç·¨è¼¯\nï¼åƒè€ƒè³‡æ–™: ç‚ºä½ è‡ªå·±å­¸Ruby On Rails\n00 é–‹å§‹ä¹‹å‰ step 1. ä½¿ç”¨æŒ‡å®šRailsç‰ˆæœ¬ç”Ÿæˆå°ˆæ¡ˆ:\nrails _ç‰ˆæœ¬_ new å°ˆæ¡ˆå\n% rails _6.1.5_ new hello_rails step 2. é€²åˆ°è©²è³‡æ–™å¤¾ cd hello_rails gitç‰ˆæ§åˆå§‹åŒ– git init\nstep 3. ç¬¬ä¸€æ¬¡commit git add . git commit -m\"init commit\"\nstep 4. ç¢ºå®šç’°å¢ƒæ­£å¸¸é‹ä½œ rails s é€²åˆ°localhost:3000ç¢ºèªç•«é¢\n01è™•ç†Routeï¼Œæ–°å¢(å»ºç«‹)è·¯å¾‘ step 1. æ‰¾åˆ°Routeæª” confing -\u003e routes.rb (æˆ–æ˜¯ä½¿ç”¨ctrl+pæœå°‹)\nstep 2. åšå‡ºå€™é¸äººç›¸é—œè³‡æº/è·¯å¾‘ åœ¨routes.rbæª”æ¡ˆè£¡è¼¸å…¥\n1  resources :candidates   rails routeså¯æŸ¥çœ‹è·¯å¾‘å°ç…§è¡¨ å¯çœ‹åˆ°åšå‡ºçš„å…«æ¢è·¯å¾‘ï¼Œå°æ‡‰åˆ°ä¸ƒå€‹action\ncandidates#index candidates#create candidates#new candidates#edit candidates#show candidates#update candidates#update candidates#destroy è‹¥åªæƒ³åšå‡ºç‰¹å®šè·¯å¾‘ï¼Œå¦‚indexè·Ÿshowï¼Œç¤ºç¯„å¦‚ä¸‹\n1  resources :candidates, only: [:index, :show]   step 3.æ–°å¢controllers app -\u003e controllers æŒ‰å³éµæ–°å¢æª”æ¡ˆ\ncandidates_controller.rb æ¥è‘—ï¼Œåœ¨æª”æ¡ˆè£¡é¢è¼¸å…¥\n1 2 3 4 5  class CandidatesController \u003c ApplicationController def index end end   step 4. æ–°å¢view app -\u003e views æŒ‰å³éµæ–°å¢è³‡æ–™å¤¾\ncandidates åœ¨candidatesè£¡å†æ–°å¢æª”æ¡ˆ\nindex.html.erb è¼¸å…¥\n1  \u003ch1\u003eHi\u003c/h1\u003e   é€™æ™‚ï¼Œå°±å¯ä»¥åœ¨\nlocalhost:3000/candidates çœ‹åˆ°å‰›å‰›è¼¸å…¥çš„Hiäº†\nstep3-step4æ‰‹å·¥æ‰“é€ çš„éƒ¨åˆ†ï¼Œå¯ä½¿ç”¨æŒ‡ä»¤\n% rails g controller candidates 02 æ–°å¢Model step 1.ä½¿ç”¨æŒ‡ä»¤æ–°å¢model\nè¦å…ˆæƒ³ä¸€ä¸‹Candidateçš„Modelè¦æœ‰å“ªäº›æ¬„ä½åŠå…¶å°æ‡‰çš„è³‡æ–™å‹æ…‹\nModelä¸ç­‰æ–¼è³‡æ–™åº«/è³‡æ–™è¡¨ï¼Œæ˜¯ä¸€å€‹æŠ½è±¡å±¤çš„æ¦‚å¿µ\né€™å€‹éç¨‹å¦‚æœè¦ç´”æ‰‹å·¥ï¼Œæœƒæ¶‰åŠåˆ°éœ€æ‰‹å‹•å»ºç«‹migrationæª”ä¾†æè¿°é€™å€‹è³‡æ–™è¡¨è¦é•·ä»€éº¼æ¨£å­ï¼Œéœ€è¦å¯«ä¸€äº›èªæ³•ï¼Œå°ç¾éšæ®µçš„æˆ‘å€‘ä¾†èªªæœƒæœ‰é»åƒåŠ›ï¼Œå»ºè­°ç›´æ¥ä½¿ç”¨æŒ‡ä»¤\n% rails g model Candidate name:string party:string age:integer politics:text votes:integer å¦‚æœæ˜¯æ–‡å­—å‹æ…‹(string)ï¼Œå¯çœç•¥ä¸å¯«\n% rails g model Candidate name party age:integer politics:text votes:integer é€™å€‹æŒ‡ä»¤æœƒå¹«ä½ åšå…©ä»¶äº‹\n å»ºç«‹candidateé€™å€‹model æœƒæ ¹æ“šä½ çµ¦å®ƒçš„æ¬„ä½ï¼Œå»ºä½ä¸€å€‹migration(ä¸»è¦ç›®çš„)  æ…£ä¾‹:å¦‚æœmodelå«Candidate(å¤§å¯«å–®æ•¸)ï¼Œè³‡æ–™è¡¨migrateä¸­çš„è¡¨æ ¼tableå°±æœƒæ˜¯candidates(å°å¯«è¤‡æ•¸)\nstep 2.æè¿°æª”å…·ç¾åŒ–\n% rails db:migrate æœƒåœ¨ db é€™å€‹è³‡æ–™å¤¾å»ºç«‹æª”æ¡ˆ æª”æ¡ˆåç‚º:\ndevelopment.sqlite3 åœ¨railsé è¨­ä½¿ç”¨çš„è³‡æ–™åº«å°±æ˜¯sqliteï¼Œå®ƒæ˜¯ä¸€ç¨®æª”æ¡ˆå‹çš„è³‡æ–™åº«ï¼Œæ•ˆèƒ½ä¸å¥½ï¼Œä½†ç°¡å–®æ˜“ç”¨ï¼Œä»¥ç·´ç¿’ä¾†èªªé‚„ç®—å ªç”¨ï¼Œåœ¨æˆ‘å€‘é€™æ¬¡é–‹ç™¼éç¨‹ä¸­æ‰€æœ‰è³‡æ–™éƒ½æœƒå¯«åˆ°é€™è£¡ã€‚\nåœ¨config/database.ymlè£¡çš„adapterå¯ä»¥ç¢ºèªæœ¬æ¬¡å°ˆæ¡ˆæ‰€ä½¿ç”¨çš„è³‡æ–™åº«ç³»çµ±\nåœ¨ä¸åŒçš„ç’°å¢ƒ(é–‹ç™¼ã€æ¸¬è©¦)ï¼Œæœƒå­˜æ”¾åœ¨ä¸åŒçš„è³‡æ–™åº«\nä¾‹å¦‚ é–‹ç™¼:\ndatabase:db/development.sqlite3 æ¸¬è©¦:\ndatabase:db/test.sqlite3 03 æ–°å¢å€™é¸äººè¡¨å–® step 1. ç¢ºèªè¡¨å–®è·¯å¾‘\nåœ¨\n% rails routes æ‰¾åˆ°\ncandidates/new step 2. å¯«å…¥é€£çµ å›åˆ°00ç« ç¯€ä¸­ step4 è£¡åœ¨candidateså»ºç«‹çš„indexï¼Œåœ¨è£¡é¢å¯«å…¥\n1  \u003ca href=\"/candidates/new\"\u003eAdd Candidate \u003c/a\u003e   å°±å¯ä»¥åœ¨\nlocalhost:3000/candidates é é¢çœ‹åˆ°æˆ‘å€‘è¨­å®šçš„è¶…é€£çµäº†ã€‚ä½†é€™æ™‚é»ä¸‹å»é€™å€‹è¶…é€£çµï¼Œæ‡‰è©²æœƒå‡ºç¾åœ¨éŒ¯èª¤è¨Šæ¯ï¼Œå› ç‚ºæˆ‘å€‘é‚„æ²’æœ‰åšå‡ºç›¸å°æ‡‰çš„actionçµ¦å®ƒã€‚\nstep 3.å®šç¾© new action å›åˆ°\ncandidate_controller.rb å®šç¾© new action\n1 2  def new end   step 4. åšå‡º new çš„view\nåœ¨views -\u003e candidates æ–°å¢æª”æ¡ˆ\nnew.html.erb è¼¸å…¥\n1  \u003ch1\u003eAdd Candidate\u003c/h1\u003e   å°±å¯ä»¥åœ¨localhost:1313/candidates/newçœ‹åˆ°é€™è¡Œæ–°å¢å±¥æ­·çš„æ–‡å­—äº†\n03-1 æ‰‹åˆ»å»ºç«‹è¡¨å–® step 1. å»ºç«‹ form è¡¨å–®ï¼Œä½¿ç”¨POSTæ–¹æ³•\nåœ¨ new.html.erb æª”è£¡å¯«å…¥\n1 2 3 4  \u003cform action=\"candidates(è¦å»ä»€éº¼åœ°æ–¹)\" method=\"POST(ç”¨ä»€éº¼æ–¹å¼é€)\"\u003e \u003cinput type=\"text\" name=\"abc\"\u003e \u003cinput type=\"submit\" value=\"go!\"\u003e \u003c/form\u003e   é€™é‚Šè¦ç¨å¾®è¨˜ä¸€ä¸‹(æˆ–æ˜¯å¯ä»¥åƒè€ƒè·¯å¾‘å°ç…§è¡¨)ï¼Œåœ¨æˆ‘å€‘å¾candidates/newé€™é‚Šï¼Œç”¨POSTæ–¹æ³•å¾€candidatesé€ï¼Œé‚£æ¥è‘—å°±æœƒè¦æ‰¾createé€™å€‹action\ncandidate#create step 2.å®šç¾©create action å›åˆ°\ncandidate_controller.rb å®šç¾© create action\n1 2  def create end   step 3. èªè­˜railsé è¨­çš„ä¿è­·æ©Ÿåˆ¶\nç‚ºé¿å…ç¥¨å‹™æˆ–å…¶ä»–ç›¸é—œè¨­è¨ˆçš„çŒæ°´å•é¡Œï¼Œåœ¨ä½¿ç”¨formè¡¨å–®è¦å¾€æŸå€‹åœ°æ–¹é€çš„æ™‚å€™ï¼Œrailsæœƒè¦æ±‚è¦æœ‰ authenticiy tokenã€‚æˆ‘å€‘å¯ä»¥ç”¨ä»¥ä¸‹çš„ ruby æ–¹æ³•\u003c%= form_authenticity_token %\u003eè®“æ¯æ¬¡è¼‰å…¥é é¢æ™‚ï¼Œæœƒç”Ÿå‡ºä¸€æ®µauthenticity tokenã€‚æŒ‰ä¸‹é€å‡ºæ™‚é€™æ®µtokenå°±æœƒè·Ÿè‘—è¡¨å–®ä¸€èµ·é€åˆ° actionã€‚ç›®çš„æ˜¯è¦é€éç”±æˆ‘å€‘ç™¼å‡ºå»çš„ authenticity token ä¾†ç¢ºèªç”¨æˆ¶æ˜¯å¾æˆ‘å€‘ç¶²ç«™é€²ä¾†çš„ï¼Œé€²è€Œé”åˆ°é¿å…æœ‰å¿ƒäººå£«ä½¿ç”¨è‡ªå·±å¯«çš„ç¨‹å¼ä¾†ä¸åœé€å‡º(ç¥¨æ•¸)çŒæ°´ã€‚\n1  \u003cinput type=\"hidden\" name=\"authenticity_token\" value=\"\u003c%= form_authenticity_token %\u003e\"\u003e   03-2 ä½¿ç”¨form_forå°å¹«æ‰‹ åœ¨railsè£¡ï¼Œæœ‰å€‹å«form helperçš„å°å¹«æ‰‹ï¼Œä½¿ç”¨å®ƒä¾†å¹«åŠ©æˆ‘å€‘å»ºç«‹è¡¨å–®ã€‚å°±ä¸ç”¨åƒ03-1éç¨‹é€™éº¼ç¹ç‘£ã€‚\nstep 1. ä½¿ç”¨form_for form for æ˜¯ç‚ºäº†æŸå€‹modelå»ºç«‹è¡¨å–®, èªæ³•å¦‚ä¸‹form_for(model) ï¼Œå¥—ç”¨åœ¨æˆ‘å€‘é€™æ¬¡çš„å¯¦ä½œï¼Œå› ç‚ºCandidateæ˜¯ä¸€å€‹classï¼Œæ‰€ä»¥æˆ‘å€‘åœ¨å¾Œé¢åŠ ä¸Š.newï¼Œè®“å®ƒè®Šæˆä¸€å€‹modelã€‚ä¸¦æŠŠå®ƒå®šç¾©åœ¨candidates_controller.rbçš„newè£¡ã€‚ä¸¦çµ¦å®ƒä¸€å€‹å¯¦é«”è®Šæ•¸(@)ï¼Œviewæ‰èƒ½æ‹¿çš„åˆ°ã€‚\n(ä¹‹æ‰€ä»¥è¦æŠŠmodelå®šç¾©åœ¨controllerè£¡ï¼Œæ˜¯å› ç‚ºåœ¨ MVC çµæ§‹è£¡ï¼Œview çš„è§’è‰²å°±æ˜¯å–®ç´”æŠŠæ±è¥¿å°å‡ºä¾†ï¼Œä¸è¦åšç”¢ç”Ÿç‰©ä»¶æˆ–é‚è¼¯é‹ç®—ä¹‹é¡çš„äº‹ï¼Œå±¬æ–¼è¢«å‹•è§’è‰²)\n1 2 3  def new @candidate = Candidate.new end   å›åˆ°candidates/newï¼ŒæŠŠå®šç¾©å¥½çš„å¯¦é«”è®Šæ•¸æ¥åœ¨form_forè£¡\n\u003c%= form_for(@candidate) %\u003e form_for ç™¼ç¾å¾Œé¢æ¥çš„æ˜¯å…¨æ–°çš„modelçš„æ™‚å€™ï¼Œæœƒå¹«ä½ é•·å‡ºç›¸å°æ‡‰çš„è·¯å¾‘ã€æ–¹æ³•åŒ…å«tokenå…¨éƒ¨å¯«å®Œã€‚\nstep 2. æ­é… ruby çš„ ç¨‹å¼ç¢¼å€å¡Š(Block) æ­é… rubyçš„ç¨‹å¼ç¢¼å€å¡Š(Block)do endåŠ ä¸Šå°å¹«æ‰‹çš„.text_fieldæ–¹æ³•ä¾†ç”¢ç”Ÿæ¬„ä½ï¼ŒåŠ.labelæ–¹æ³•ä¾†åšå‡ºæ¨™ç±¤\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  \u003c%= form_for(@candidate) do |form| %\u003e \u003c%= form.label :name %\u003e \u003c%= form.text_field :name %\u003e \u003c%= form.label :party %\u003e \u003c%= form.text_field :party %\u003e \u003c%= form.label :age %\u003e \u003c%= form.text_field :age %\u003e \u003c%= form.label :politics %\u003e \u003c%= form.text_area :politics %\u003e \u003c%= form.submit %\u003e \u003c% end %\u003e   03-3 create action step 1. å¾—åˆ°parameters params æ˜¯ä¸€å€‹æ–¹æ³•æœƒå›å‚³ ActionController::Parameters ç‰©ä»¶ï¼Œåœ¨å¯¦å‹™ä¸Šæœƒåƒä¸€å€‹ hashã€‚æ‰€ä»¥æˆ‘å€‘å¯ä»¥é€éparamsä¾†å–å¾—parametersã€‚\nåœ¨ 03-2 æŠŠè¡¨å–®å»ºç«‹å¥½ï¼ŒæŒ‰ä¸‹é€å‡ºä¹‹å¾Œï¼Œåœ¨ log ä¸­å¯ä»¥ç™¼ç¾ä¸€åŒ…åƒæ•¸(parameters)ï¼Œè£¡é¢åŒ…å«tokenã€æ¬„ä½æ‰€å¡«çš„è³‡æ–™ ï¼Œæˆ‘å€‘å°±å¯ä»¥é€éparamsé€™å€‹hashï¼Œä½¿ç”¨candidateé€™å€‹keyä¾†å–å¾—ç›¸å°æ‡‰çš„ä¸€åŒ…hash(value)\n1  params[:candidate]   ä¸Ÿçµ¦Candidate.newé€™å€‹modelã€‚æ¥è‘—ä½¿ç”¨(@)å¯¦é«”è®Šæ•¸å»ºç«‹ç‰©ä»¶ï¼Œå«é€™å€‹ç‰©ä»¶å­˜æª”(save)ã€‚å¦‚æœæˆåŠŸï¼Œå°±æŠŠé é¢å°å‘å€™é¸äººåˆ—è¡¨é ã€‚ å¦‚æœå¤±æ•—ï¼Œä½¿ç”¨ render é€™å€‹æ–¹æ³•ï¼Œå€Ÿ new çš„é é¢é‡æ–°æ¸²æŸ“ã€‚render :new\n1 2 3 4 5 6 7 8 9  def create @candidate = Candidate.new(params[:candidate]) if @candidate.save redirect_to '/cnadidates' else render :new end end    è£œå……èªªæ˜ 1:hashæ˜¯ä»€éº¼? hashæ˜¯ç”±keyã€valueæ‰€çµ„æˆçš„è³‡æ–™ï¼Œè¨­è¨ˆè€…åªè¦æ ¹æ“šKeyå€¼å°±å¯ä»¥å–å¾—ç›¸å°æ‡‰çš„è³‡æ–™ã€‚ å¦‚ä½•å»ºç«‹hashï¼Ÿ 1.ä½¿ç”¨hashé¡åˆ¥ï¼Œnewä¸€å€‹çµ¦ä»–ã€‚\nuser = Hash.new\n2.ä½¿ç”¨å¤§æ‹¬è™Ÿ user = { name: â€˜Judyâ€™, age:8 }\n  è£œå……èªªæ˜ 2:è£½é€ å·§åˆ åœ¨ new åŠ create å–äº†ä¸€æ¨£çš„å¯¦é«”è®Šæ•¸åå­—ï¼Œè®“render :new å¯ä»¥é †åˆ©åœ¨ç©ºä¸­æŠ“å–è³‡æ–™ä¸¦é€éform_forè®“å€¼æ“ºæ”¾åœ¨ç›¸å°æ‡‰çš„æ¬„ä½ã€‚\n def new @candidate = Candidate.new end def create @candidate = Candidate.new(candidate_params) end step 2. æ¸…æ´—params ç•¶æˆ‘å€‘è©¦åœ–è¦æŠŠæ•´åŒ…hashçš„è³‡æ–™é€é model å¯«é€²è³‡æ–™åº«çš„æ™‚å€™ï¼Œmodelæœƒç™¼ç¾é€™åŒ…ç¶²è·¯ä¸ŠæŠ“ä¸‹çš„æ±è¥¿é‚„æ²’æ¸…æ´—(éæ¿¾æª¢æŸ¥)é(ä½¿ç”¨è€…å¯ä»¥å¾ˆè¼•æ˜“çš„åœ¨é é¢ä¸Šç·¨è¼¯åŠ æ¬„ä½)ã€‚é è¨­æœƒæ“‹ä¸‹ä¾†ã€‚ ä½¿ç”¨ require é€™å€‹æ–¹æ³•ï¼ŒæŠ“å–candidateä¸¦ä½¿ç”¨permitåªå…è¨±éƒ¨åˆ†æ¬„ä½éä¾†ã€‚\n1  params.require(:candidate).permit(:name, :party, :age, :politics)   æ¥è‘—ï¼Œè¨­å®šä¸€å€‹è®Šæ•¸åç¨±çµ¦å®ƒï¼Œæˆ–æ˜¯çŸ¥é“æˆ‘å€‘å¾Œé¢æœƒå¾ˆå¸¸å†ä½¿ç”¨å®ƒï¼Œå¯ä»¥ç›´æ¥å®šç¾©æ–¹æ³•ã€‚å†æŠŠå®ƒæ”¾é€²Candidate.newé€™å€‹modelã€‚\nç¬¬ä¸€å€‹æ–¹å¼å¦‚ä¸‹:\n1 2 3 4 5 6 7 8 9 10 11  def create clean_params = params.require(:candidate).permit(:name, :party, :age, :politics) @candidate = Candidate.new(clean_params) if @candidate.save redirect_to '/cnadidates' else render :new end end   ç¬¬äºŒå€‹æ–¹å¼ï¼ŒæŠŠå®ƒå–®ç¨å®šç¾©ä¸€å€‹æ–¹æ³•ï¼Œè®“å®ƒå¯ä»¥è¢«é‡è¤‡ä½¿ç”¨ï¼Œå› ç‚ºä¸éœ€è¢«å¤–éƒ¨å­˜å–ï¼Œå¯ä»¥åŠ å…¥ private è¨»è¨˜ï¼Œè®Šæˆç§æœ‰æ–¹æ³•ã€‚æ˜¯ä¸€å€‹æ¯”è¼ƒå¥½çš„ä½œæ³•ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  def create @candidate = Candidate.new(candidate_params) if @candidate.save redirect_to '/candidates' else render :new end end private def candidate_params params.require(:candidate).permit(:name, :party, :age, :politics) end   step 3. ç¢ºèªå­˜å–çš„è³‡æ–™ åœ¨rails consoleæˆ– rails cè¼¸å…¥\nCandidate.all å°±å¯ä»¥å°å‡ºç›®å‰Candidateé€™å€‹è¡¨æ ¼è£¡çš„æ‰€æœ‰å€™é¸äºº\nstep 4. ä½¿ç”¨è€…æç¤º flash flash æ˜¯å¿«é–ƒè¨Šæ¯çš„æ„æ€ï¼Œåªè¦å°åœ¨ç•«é¢ä¸€æ¬¡ä¹‹å¾Œï¼Œå°±æœƒæ¶ˆå¤±ã€‚\nflash æœ¬è³ªä¸Šå°±æ˜¯ä¸€å€‹hashã€‚keyçš„æ…£ä¾‹ä¸Šæœƒä½¿ç”¨noticeï¼Œå¾Œé¢å†æ¥ä¸Šè¦çµ¦çš„è¨Šæ¯ã€‚å¯«çš„æ–¹å¼å¦‚ä¸‹:\n1  flash[:notice] = \"Candidate created\"   æ¥è‘—ï¼Œå°±åœ¨è¦å°å‡ºé€™å€‹flashçš„htmlé é¢å¯«å…¥\n1  \u003c%= flash[:notice]%\u003e   03-4 åŠ å…¥é©—è­‰ åœ¨ app -\u003e models è£¡çš„ candidate.rb æª”ï¼Œæ ¹æ“šæˆ‘å€‘çš„é©—è­‰æ¢ä»¶å¯«å…¥ validates\n1 2 3  calss Candidate \u003c ApplicationRecord validates :name, present:true end   03-5 æ’ˆå‡ºå€™é¸äººåˆ—è¡¨ æˆ‘å€‘å·²ç¶“é †åˆ©æŠŠå€™é¸äººå¯«å…¥è³‡æ–™åº«äº†ï¼Œç¾åœ¨è¦æŠŠè³‡æ–™æ’ˆå‡ºä¾†ã€‚åœ¨candidates_controller.rbé€™è£¡é€é Candidate é€™å€‹ model çš„é¡åˆ¥æ–¹æ³• all Candidate.all\n1 2 3  def index @candidates = Candidate.all end   ä¸¦ä¸”åœ¨index.html.erbé€™å€‹æª”æ¡ˆè£¡ç”¨tableï¼Œæ­é…ä½¿ç”¨rubyçš„è¿´åœˆeachæŠŠå€™é¸äººè³‡æ–™ä¸€ç­†ä¸€ç­†å°å‡ºä¾†\n03-6 link_to View-helperå°å¹«æ‰‹link_to\n1  \u003c%= link_to 'è¦ç§€å‡ºä¾†çš„å­—æ¨£', 'è¦å»çš„ä½ç½®'%\u003e   ç¬¬äºŒç¨®å¯«æ³•ï¼Œä½¿ç”¨è·¯å¾‘ Prefix æä¾›çš„åç¨±åŠ ä¸Š _path\n1  \u003c%= link_to 'è¦ç§€å‡ºä¾†çš„å­—æ¨£', new_cnadidate_path %\u003e   ç¬¬äºŒç¨®å¯«æ³•çš„å„ªé»  æ‹¼éŒ¯å°±æœƒé¦¬ä¸Šå™´éŒ¯ ä¹‹å¾Œæ›´æ”¹è·¯å¾‘åç¨±æ–¹ä¾¿  æ‰€ä»¥ç›¡é‡ä»¥ç¬¬äºŒç¨®å¯«æ³•ç‚ºä¸»ã€‚\n03-7 show action step 1. é‡è¦†ä¹‹å‰åœ¨controllerå®šç¾©actionçš„æ–¹å¼å®šç¾©show actionã€‚æ³¨æ„ä¸è¦æ”¾åœ¨privateåº•ä¸‹ã€‚\n1 2  def show end   step 2. åšå‡ºview show.html.erb\nstep 3. é€éparamsæ‹¿idæ¬„ä½å›ä¾†ç”¨\né€éparamsæ‹¿idæ¬„ä½å›ä¾†ï¼Œå†é€émodleçš„find_byæ–¹æ³•æ‰¾æŸå€™é¸äººçš„è³‡æ–™\n1  @candidate = Candidate.find_by(id: params[:id])   step 4. åœ¨show.html.erbåšåˆ—è¡¨ï¼ŒæŠŠfind_by æ‰¾åˆ°çš„è³‡æ–™å°å‡ºä¾†ï¼Œæœƒæ ¹æ“šä¸åŒçš„idè€Œæœ‰ä¸åŒçš„çµæœã€‚\nstep 5. åŠ ä¸Š if åˆ¤æ–· å¦‚æœå€™é¸äººæœ‰è³‡æ–™ï¼Œå°±å°å‡ºä¾†ï¼Œåä¹‹ï¼Œå°å‡ºno record\n1 2 3 4 5 6 7  \u003c% if  @candidate %\u003e #å°å‡ºè³‡æ–™ \u003c% else %\u003e \u003ch1\u003e No Record Found \u003c/h1\u003e \u003c% end %\u003e    è£œå……èªªæ˜\n\u003c%= %\u003e èˆ‡ \u003c% %\u003e\nå…©è€…çš„å·®åˆ¥åœ¨æ–¼éœ€ä¸éœ€è¦æ–¼ç•«é¢è¼¸å‡ºï¼Œæœ‰åŠ =çš„æœƒå°å‡ºä¾†ã€‚\n 03-8 æ²’æœ‰é€šéé©—è­‰çš„éŒ¯èª¤è¨Šæ¯ step 1.é€éany?ä¾†è©¢å•æœ‰æ²’æœ‰ä»»ä½•éŒ¯èª¤è¨Šæ¯\n.errors.any? é€™æ™‚ï¼Œå°ç…§03-3çš„saveï¼Œå­˜æª”éç¨‹ä¸­è¦æ˜¯æ²’æœ‰é€šéé©—è­‰ï¼Œå°±å¯ä»¥åœ¨\n.errors.any? å¾—åˆ°trueçš„çµæœ\nå†ä½¿ç”¨full_messagesä¾†å¾—åˆ°éŒ¯èª¤è¨Šæ¯\n.errors.full_messages ä¸€æ¨£æ­é….eachçš„æ–¹æ³•ä¾†é€å€‹å°å‡ºè³‡è¨Š\n1 2 3 4 5 6 7  \u003c% if  candidate.errors.any? %\u003e \u003cul\u003e \u003c% candidate.errors.full_messages.each  do |message| %\u003e \u003cli\u003e\u003c%= message %\u003e\u003c/li\u003e \u003c% end  %\u003e \u003c/ul\u003e    è£œå……èªªæ˜ å¯ä»¥é€é.methodçš„æ–¹æ³•ä¾†ç¢ºèªæœ‰ä»€éº¼methodå¯ä»¥ä½¿ç”¨\n step2. ä¿®æ­£ç‰ˆé¢ å› ç‚ºé©—è­‰æ²’æœ‰éè€Œrender :new å›ä¾†å¾Œï¼Œç‰ˆé¢æœƒå› ç‚ºè¢«å¤šäº†ä¸€å±¤div(field_with_errors)åŒ…è£è€Œè·‘æ‰ï¼Œæˆ‘å€‘è¦æ€éº¼è™•ç†å‘¢ï¼Ÿ\nä¾†åˆ° app -\u003e assets -\u003e stylesheets è³‡æ–™å¤¾è£¡æŒ‰å³éµé–‹ä¸€å€‹æª”æ¡ˆcandidate.scssã€‚é€™å€‹è³‡æ–™å¤¾è£¡çš„æ‰€æœ‰cssæª”æ¡ˆå¯ä»¥é€éåŒå€‹è³‡æ–™å¤¾çš„application.css(æ‰“åŒ…æè¿°æª”)è£¡çš„é€™å€‹æè¿°\n*= require_tree . æ‰“åŒ…å›ä¾†ã€‚\næ¥è‘—ï¼Œå°±å¯ä»¥åœ¨candidate.scssç·¨è¼¯æƒ³è¦çš„æ•ˆæœã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  .field_with_errors{ display: inline-block; input[type=\"text\"]{ border-color: red; border-width: 1px; } label { color: red; } }   04 ä¿®æ”¹(edit) ä¸€æ¨£ä½¿ç”¨å‰é¢æåˆ°çš„link_toä¾†å¯«ã€‚\nstep 1. ç¢ºèªè·¯å¾‘\n/candidates/:id/edit step 2. ç¢ºèªPrefix\nedit_candidate step 3. åœ¨index.html.erbå¯«å…¥\n1  \u003c%= link_to 'update', edit_candidate_path(candidate.id) %\u003e    è£œå……èªªæ˜\nè‹¥Prefixçš„æ¬„ä½æ˜¯ç©ºç™½çš„ï¼Œå‰‡å°æ‡‰çš„æ˜¯å‰ä¸€å€‹æ¬„ä½\n 04-1 edit action step 1. é‡è¦†ä¹‹å‰åœ¨controllerå®šç¾©actionçš„æ–¹å¼å®šç¾©edit actionã€‚æ³¨æ„ä¸è¦æ”¾åœ¨privateåº•ä¸‹ã€‚ä¸¦ä¸”ä¸€æ¨£é€éparamsæ‹¿idæ¬„ä½å›ä¾†ï¼Œå†é€émodleçš„find_byæ–¹æ³•æ‰¾æŸè™Ÿå€™é¸äººçš„è³‡æ–™\n1 2 3  def edit @candidate = Candidate.find_by(id: params[:id]) end   step 2. åšå‡ºview edit.html.erb\nstep 3. åšä¸€å€‹è¡¨å–®\n(å¯ç”¨new.html.erbçš„å…§å®¹ä¾†å¥—ç”¨)\nstep 4. PATCH / UPDATE æ¥ä¸‹ä¾†åœ¨ç€è¦½å™¨æŒ‰ä¸‹updateå¾Œï¼Œå¯ä»¥åœ¨logè£¡çœ‹åˆ°form_forå¹«æˆ‘å€‘ç”¢å‡ºçš„å…¶ä¸­ä¸€å€‹inputï¼Œæœ‰patché€™å€‹æ–¹æ³•ã€‚\n1  \u003cinput type=\"hidden\" name=\"_method\" value=\"patch\"\u003e   é€™æ˜¯å› ç‚ºç›®å‰ç€è¦½å™¨é‚„æ²’æœ‰æ”¯æ´åˆ°é‚£éº¼å¤šçš„æ–¹æ³•(å‹•è©)ï¼Œæ‰€ä»¥railsç”¨é€™å€‹æ–¹å¼\"å‡è£\"patch(å¯¦éš›ä¸Šæ˜¯post)\nç”±è·¯å¾‘å°ç…§è¡¨å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæ˜¯ç”¨PATCHçš„æ–¹æ³•å°/cnadidates/:idé€™å€‹è·¯å¾‘å»é€çš„è©±ï¼Œæœƒå°æ‡‰åˆ°candidates#updateé€™å€‹æ–¹æ³•ã€‚\n è£œå……èªªæ˜ 1.\nrailsæœƒæ ¹æ“šé‚£å€‹modleæ˜¯ä¸æ˜¯å…¨æ–°çš„ä¾†åˆ¤æ–·(çŒœæ¸¬)form.submitæ˜¯è¦ä½¿ç”¨createé‚„æ˜¯update\nå…¨æ–°çš„ç‰©ä»¶ -\u003e create å¾è³‡æ–™åº«æ’ˆå‡ºä¾†çš„ -\u003e update\n  è£œå……èªªæ˜ 2. (1) ç”¨GETçš„æ–¹æ³•å°/cnadidates/:idé€™å€‹è·¯å¾‘å»é€çš„è©±ï¼Œæœƒæ‰¾åˆ°candidates#showé€™å€‹æ–¹æ³• (2) ç”¨PUTçš„æ–¹æ³•å°/cnadidates/:idé€™å€‹è·¯å¾‘å»é€çš„è©±ï¼Œæœƒæ‰¾åˆ°candidates#updateé€™å€‹æ–¹æ³•\n(3) ç”¨DELETEçš„æ–¹æ³•å°/cnadidates/:idé€™å€‹è·¯å¾‘å»é€çš„è©±ï¼Œæœƒæ‰¾åˆ°candidates#destroyé€™å€‹æ–¹æ³•\n 04-2 update action step 1. é‡è¦†ä¹‹å‰åœ¨controllerå®šç¾©actionçš„æ–¹å¼å®šç¾©edit actionã€‚æ³¨æ„ä¸è¦æ”¾åœ¨privateåº•ä¸‹ã€‚ä¸¦ä¸”ä¸€æ¨£é€éparamsæ‹¿idæ¬„ä½å›ä¾†ï¼Œå†é€émodleçš„find_byæ–¹æ³•æ‰¾æŸè™Ÿå€™é¸äººçš„è³‡æ–™\n1 2 3  def update @candidate = Candidate.find_by(id: params[:id]) end   step 2. é¡ä¼¼ create action çš„ä½œæ³•ï¼Œä¸¦ä¸”å¤±æ•—çš„è©±ï¼Œå€Ÿeditçš„é é¢ä¾†æ¸²æŸ“ 1 2 3 4 5 6 7 8 9 10  def update @candidate = Candidate.find_by(id: params[:id]) if @candidate.update(candidate_params) flash[:notice] = \"Candidate updated!\" redirect_to '/cnadidates' else render :edit end end   05 åˆªé™¤ step 1. ç¢ºèªè·¯å¾‘\n/candidates/:id step 2. ç¢ºèªPrefix\ncandidate (æ²’å¯«çš„è©±çš„ï¼Œç‚ºåŒä¸Š)\nstep 3. åœ¨index.html.erbå¯«å…¥\n1  \u003c%= link_to 'delete', candidate_path(candidate.id) %\u003e   step 4. åšå‡ºè·Ÿupdateçš„å€åˆ¥ åˆ°ç›®å‰ç‚ºæ­¢ï¼Œå› ç‚ºè·Ÿupdateä¸€æ¨£è·¯å¾‘éƒ½æ˜¯åœ¨/candidates/:id æ‰€ä»¥è¦åœ¨ link_to è£¡åŠ å¹¾å€‹åƒæ•¸ï¼Œè®“å®ƒä¸æœƒå¾€showé€\n1  \u003c%= link_to 'delete', candidate_path(candidate.id), method: 'delete' %\u003e   åœ¨æª¢è¦–åŸå§‹ç¢¼çš„æ™‚å€™ï¼Œå°±æœƒç™¼ç¾å¤šå‡ºdata-mathod=\"delete\" å¦‚æ­¤ï¼Œåœ¨é é¢ä¸ŠæŒ‰ä¸‹deleteçš„æ™‚å€™ï¼Œå°±æœƒå°è©²è·¯å¾‘ä½¿ç”¨deleteé€™å€‹å‹•è©ï¼Œæ¥è‘—å¾€/cnadidates/:idé€™å€‹è·¯å¾‘å»é€ï¼Œæœƒæ‰¾åˆ°candidates#destroyé€™å€‹æ–¹æ³•\n05-1 destroy action step 1. é‡è¦†ä¹‹å‰åœ¨controllerå®šç¾©actionçš„æ–¹å¼å®šç¾©edit actionã€‚æ³¨æ„ä¸è¦æ”¾åœ¨privateåº•ä¸‹ã€‚ä¸¦ä¸”ä¸€æ¨£é€éparamsæ‹¿idæ¬„ä½å›ä¾†ï¼Œå†é€émodleçš„find_byæ–¹æ³•æ‰¾æŸè™Ÿå€™é¸äººçš„è³‡æ–™\n1 2 3 4 5 6 7  def destroy @candidate = Candidate.find_by(id: params[:id]) @candidate.destroy flash[:notice] = \"Candidate deleted!\" redirect_to '/candidates' end   step 2. é˜²å‘†æ©Ÿåˆ¶ åœ¨index.html.erbè£¡çš„link_toåŠ ä¸Šç¢ºèªdata: {confirm:\"\"}\n1  \u003c%= link_to 'delete', candidate_path(candidate.id), method: 'delete', data: { confirm: 'are you sure?' } %\u003e   å¦‚æ­¤ï¼Œä¾¿å¯ä»¥åœ¨åˆªé™¤è³‡æ–™çš„æ™‚å€™ï¼Œè·³å‡ºç¢ºèªè¦–çª—\n06 éŒ¯èª¤è¨Šæ¯ éŒ¯èª¤è¨Šæ¯çš„è§£ç­”é€šå¸¸éƒ½åœ¨è¨Šæ¯è£¡\néŒ¯èª¤è¨Šæ¯:missing a template ä»£è¡¨ç¼ºå°‘MVCè£¡çš„V(view)ï¼Œéœ€è¦åœ¨viewè£¡å»ºç›¸å°æ‡‰çš„ html çµ¦å®ƒ\néŒ¯èª¤è¨Šæ¯:Migrations are pending ä»£è¡¨é‚„æœ‰ä¸€å€‹migrationsé‚„æ²’è™•ç†ï¼ŒåŸ·è¡Œrails db:migrateå°±å¯ä»¥è§£æ±º\néŒ¯èª¤è¨Šæ¯:UnKnown action ä»£è¡¨ç¼ºå°‘æŸå€‹actionï¼Œéœ€è¦åœ¨ controller è£¡å®šç¾©\néŒ¯èª¤è¨Šæ¯:Routing Error. No route matches æ‰¾ä¸åˆ°è·¯å¾‘(æœ‰å¯èƒ½æ˜¯é‚„æ²’å»ºæˆ–æ˜¯è·¯å¾‘æ‰“éŒ¯å­—)\néŒ¯èª¤è¨Šæ¯:InvalidAuthenticity Token ç„¡æœ‰æ•ˆçš„é©—è­‰\néŒ¯èª¤è¨Šæ¯:ForbiddenAttributesError é‚„æ²’æ¸…æ´—params(é‚„ä¸æ˜¯ç™½åå–®)\n railsè¨­è¨ˆå“²å­¸ä¹‹ä¸€å°±æ˜¯æ…£ä¾‹å„ªæ–¼è¨­å®š\n ","description":"","tags":null,"title":"Ruby on Rails CRUD","uri":"/posts/ruby_on_rails_crud/"},{"categories":null,"content":"ç’°å¢ƒç›¸é—œ ruby rvm list æŸ¥çœ‹é›»è…¦è£¡å·²ç¶“å®‰è£å“ªäº›ç‰ˆæœ¬çš„Ruby:\n% rvm list ruby-2.7.2 [ arm64 ] =* ruby-2.7.5 [ arm64 ] =* ç¬¦è™Ÿè¡¨ç¤ºç›®å‰æ­£åœ¨ä½¿ç”¨çš„ç‰ˆæœ¬(åŒæ™‚ä¹Ÿæ˜¯ç›®å‰é è¨­çš„ Ruby ç‰ˆæœ¬)\nruby -v æŸ¥çœ‹ç›®å‰ Ruby çš„ç‰ˆæœ¬:\n% ruby -v ruby 2.7.5p203 (2021-11-24 revision f69aeb8314) [arm64-darwin21] $ rvm use åˆ‡æ›åˆ°å…¶ä»–ç‰ˆæœ¬çš„Rubyï¼Œä¾‹å¦‚æƒ³è¦åˆ‡æ›åˆ° 2.7.2 ç‰ˆæœ¬:\n% rvm use 2.7.2 useå¯çœç•¥ï¼Œä¾‹å¦‚è¦åˆ‡æ›å›2.7.5ç‰ˆæœ¬:\n% rvm 2.7.5 --defaultå¯è¨­å®šé è¨­Rubyç‰ˆæœ¬:\n% rvm 2.7.5 --default é€™æ¨£ä¹‹å¾Œæ¯æ¬¡é–‹çµ‚ç«¯æ©Ÿè¦–çª—å°±æœƒè‡ªå‹•åˆ‡æ›åˆ° 2.7.5 ç‰ˆ\nrails gem list æŸ¥çœ‹é›»è…¦è£¡å·²ç¶“å®‰è£å“ªäº›ç‰ˆæœ¬çš„Rails:\n% gem list rails (7.0.2.3, 7.0.2.2, 6.1.5) æˆ–è€…ä½¿ç”¨gem list | grep rails\nrails -v æŸ¥çœ‹ç›®å‰ Rails çš„ç‰ˆæœ¬:\n% rails -v Rails 7.0.2.3 gem install rails å®‰è£æœ€æ–°ç‰ˆæœ¬Rails\ngem install rails -v ç‰ˆæœ¬ å®‰è£æŒ‡å®šRailsç‰ˆæœ¬:\n% gem install rails -v 6.1.5 rails _ç‰ˆæœ¬_ new å°ˆæ¡ˆåä½¿ç”¨æŒ‡å®šRailsç‰ˆæœ¬ç”Ÿæˆå°ˆæ¡ˆ:\n% rails _6.1.5_ new hello_rails ","description":"","tags":null,"title":"Ruby on Rails Environments","uri":"/posts/ruby_on_rails_environments/"},{"categories":null,"content":"JavaScriptæ˜¯ä¸€ç¨®å‹•æ…‹å‹åˆ¥çš„ç¨‹å¼èªè¨€(Dynamically Typed Language)ï¼Œä½¿ç”¨è®Šé‡(Variable)åŠå¸¸é‡(Constant)ä¾†å„²å­˜æ•¸æ“šã€‚è®Šæ•¸å¯ä»¥å…ˆå®£å‘Šï¼Œå†è³¦å€¼ï¼Œå¦‚:\n1 2  let age age = 20   å¸¸æ•¸å‰‡å¦ï¼Œä¸€å®šè¦åŒæ™‚é€²è¡Œï¼Œå¦‚:\n1  const myage = 18   æ‰€è¬‚å‹•æ…‹å‹åˆ¥çš„ç¨‹å¼èªè¨€æ˜¯æŒ‡ï¼Œåœ¨é‹è¡ŒæœŸé–“æ‰åšæ•¸æ“šé¡å‹æª¢æŸ¥çš„èªè¨€ã€‚å³å‹•æ…‹é¡å‹èªè¨€ç·¨ç·ç¨‹å¼æ™‚ï¼Œæ°¸é ä¸ç”¨çµ¦ä»»ä½•è®Šé‡æŒ‡å®šæ•¸æ“šé¡å‹ã€‚ è©²èªè¨€æœƒåœ¨ç¬¬ä¸€æ¬¡è³¦å€¼çµ¦è®Šé‡æ™‚ï¼Œåœ¨å…§éƒ¨å°‡æ•¸æ“šé¡å‹è¨˜éŒ„ä¸‹ä¾†\nä¸¦ä¸”å……è¨±åœ¨é‹è¡Œå‘¨æœŸè£¡ï¼Œå„²å­˜ä¸åŒé¡å‹çš„æ•¸æ“šã€‚ ä¾‹å¦‚:\n1 2  let message = 2; //æ•¸å€¼ message = \"Hello World\" //è½‰æ›æˆå­—ä¸²   å‘½åæ–¹å¼  å¯ä½¿ç”¨åŒ…å«å­—æ¯ã€æ•¸å­—ã€$ã€_ é¦–å­—ç¬¦ä¸èƒ½æ˜¯æ•¸å­— ä½¿ç”¨é§å³°å¼å‘½åæ³•(å¦‚:myName)  å…«å¤§è³‡æ–™å‹åˆ¥    åŸå§‹å‹åˆ¥(Primitive Type) ç‰©ä»¶å‹åˆ¥( Object Type)     Boolean Object   Null    Undefined    Number    Bigint    String    Symbol     ä½¿ç”¨typeof é‹ç®—å­å¯ä»¥å¹«åŠ©ä½ åˆ¤æ–·å‹åˆ¥ï¼Œå…¶ä¸­å‡½å¼ï¼ˆfunctionï¼‰å’Œé™£åˆ—ï¼ˆarrayï¼‰ã€æ—¥æœŸï¼ˆdateï¼‰çš†ç‚ºç‰©ä»¶(Object)çš„ä¸€ç¨®ï¼Œfunction æ˜¯å¯å‘¼å«çš„ç‰©ä»¶ï¼Œè€Œ array æ˜¯çµæ§‹è¼ƒåš´è¬¹çš„ç‰©ä»¶ã€‚\nFunction å‡½æ•¸  å‡½æ•¸æ˜¯ä¸€å€‹è¡Œç‚º(action) ä¸€èˆ¬åªåŸ·è¡Œä¸€å€‹åŠŸèƒ½ åƒæ•¸å¯ä»¥é…é»˜èªå€¼åƒæ•¸ = \"é»˜èªå€¼\" å¯ä»¥è¿”å›æˆ–ä¸è¿”å›å€¼ï¼Œè¿”å›å€¼æ™‚éœ€ä½¿ç”¨return  Async Await promiseçš„å‡ºç¾ï¼Œç›®æ¨™æ˜¯ç‚ºäº†è§£æ±ºcallback hellçš„ç¾è±¡ï¼Œè€ŒAsync Awaitå‰‡æ˜¯ç‚ºäº†è®“éåŒæ­¥åŸ·è¡Œè®Šå¾—æ›´ç°¡æ½”ï¼Œæ›´ç›´è§€\ncallback -\u003e promise -\u003e Async Await\nç‰¹é»:\n æ›´è²¼è¿‘åŒæ­¥åŸ·è¡Œç¨‹å¼ç¢¼ æ¦‚å¿µæ˜¯ç”±promiseåŸºç¤ä¸Šæ¼”è®Š Async Awaitæœƒè¿”å›promise object Awaité—œéµå­—åªèƒ½åœ¨Async functionè£¡ä½¿ç”¨ï¼Œå¿…é ˆå°¾éš¨promise object ä½¿ç”¨try catchèªå¥æ•æ‰Async Awaitå‡ºç¾çš„éŒ¯èª¤  ","description":"","tags":null,"title":"Beginner JavaScript Notes","uri":"/posts/java_script_notes/"},{"categories":null,"content":"é™£åˆ—çš„ mapã€filter è·Ÿ reduce ä¸‰å€‹å¸¸ç”¨çš„æ–¹æ³•ä»‹ç´¹ åœ¨ä»‹ç´¹é€™ä¸‰å€‹æ–¹æ³•ä¹‹å‰ï¼Œå…ˆå¸¶å¤§å®¶äº†è§£ä½•è¬‚\"callback function\"ã€‚\nå¼•ç”¨ MDN çš„èªªæ˜å¦‚ä¸‹:\n å›å‘¼å‡½å¼ï¼ˆcallback functionï¼‰æ˜¯æŒ‡èƒ½è—‰ç”±åƒæ•¸ï¼ˆargumentï¼‰é€šå¾€å¦ä¸€å€‹å‡½å¼çš„å‡½å¼ã€‚å®ƒæœƒåœ¨å¤–éƒ¨å‡½å¼å…§èª¿ç”¨ï¼Œä»¥å®ŒæˆæŸäº›äº‹æƒ…ã€‚\n ç°¡å–®ä¾†èªªï¼Œå°±æ˜¯ä¸€å€‹ç¨‹å¼åŸ·è¡Œå®Œå†å»åŸ·è¡Œå¦ä¸€å€‹ç¨‹å¼ï¼Œä¸¦ä¸”æ˜¯åœ¨æŒ‡å®šæ™‚æ©Ÿæ‰è§¸ç™¼çš„ã€‚\næ¥è‘—æˆ‘å€‘ä¾†çœ‹é€™ä¸‰å€‹æ–¹æ³•åœ¨ W3Schools ä¸­çš„èªªæ˜\n map() Creates a new array with the result of calling a function for each array element\n  èªæ³•let new_array = arr.map(function callback( currentValue[, index[, array]]) {// return element for new_array}[, thisArg])\n  filter() Creates a new array with every element in an array that pass a test\n  èªæ³•var newArray = arr.filter(function callback(element[, index[, array]])[, thisArg])\n  reduce() Reduce the values of an array to a single value (going left-to-right)\n  èªæ³•arr.reduce(callback[accumulator, currentValue, currentIndex, array], initialValue)\n æ ¹æ“šèªæ³•æˆ‘å€‘å¯ä»¥ç™¼ç¾é€™ä¸‰å€‹æ–¹æ³•éƒ½æ˜¯ callback functionã€‚\nç¿»æˆä¸­æ–‡çš„æ„æ€å¤§æ¦‚å¦‚ä¸‹:\nmap() æ–¹æ³•æœƒå»ºç«‹ä¸€å€‹æ–°é™£åˆ—ï¼Œå…¶å…§å®¹ç‚ºåŸé™£åˆ—çš„æ¯ä¸€å€‹å…ƒç´ ç¶“ç”±å›å‘¼å‡½å¼é‹ç®—å¾Œæ‰€å›å‚³çš„çµæœä¹‹é›†åˆã€‚\nfilter() æ–¹æ³•æœƒå»ºç«‹ä¸€å€‹æ¯ä¸€å€‹å…ƒç´ ç¶“éæŒ‡å®šé‹ç®—åˆ¤æ–·å¾Œå›å‚³ç‚ºçœŸçš„æ–°é™£åˆ—ã€‚\nreduce() æ–¹æ³•å°‡ä¸€å€‹ç´¯åŠ å™¨åŠé™£åˆ—ä¸­æ¯é …å…ƒç´ ï¼ˆç”±å·¦è‡³å³ï¼‰å‚³å…¥å›å‘¼å‡½å¼ï¼Œå°‡é™£åˆ—åŒ–ç‚ºå–®ä¸€å€¼ã€‚\nreduce æ–¹æ³•è·Ÿ mapã€filter çš„å·®åˆ¥æ˜¯å®ƒæœƒ return ä¸€å€‹å€¼ï¼Œè€Œä¸æ˜¯ä¸€å€‹æ–°é™£åˆ—ï¼Œé€™æœƒé€£å¸¶ä½¿ reduce çš„èªæ³•çµæ§‹è·Ÿé‚è¼¯èˆ‡å…¶ä»–æ–¹æ³•ä¸å¤ªç›¸åŒã€‚\nçœ‹èµ·ä¾†æœ‰é»è¤‡é›œï¼Œå…¶å¯¦å°±æ˜¯ä½¿ç”¨ callback å‡½å¼è™•ç†é™£åˆ—ä¸­çš„æ¯å€‹å…ƒç´ ï¼Œå¯å‚³å…¥ä»¥ä¸‹å››å€‹åƒæ•¸ï¼Œæˆ‘å€‘å†å°ç…§èªæ³•ä¾†çœ‹ä¸€æ¬¡:\n èªæ³•arr.reduce(callback[accumulator, currentValue, currentIndex, array], initialValue)\n  accumulatorï¼šç´¯åŠ å™¨;ç¶“ç”±å€‹åˆ¥ currentValue åŠ ç¸½çš„ç´¯è¨ˆå€¼ currentValueï¼šArray æ­£åœ¨è™•ç†çš„å…ƒç´  currentIndex(é¸æ“‡æ€§)ï¼šæ­£åœ¨è™•ç†çš„å…ƒç´ ç´¢å¼• array(é¸æ“‡æ€§)ï¼šåŸå§‹é™£åˆ—  initialValue(é¸æ“‡æ€§)ï¼šåˆå§‹å€¼(é è¨­å€¼)ï¼Œæ”¾åœ¨ function çš„æœ€å¾Œæ–¹ï¼Œæ–¼ç¬¬ä¸€æ¬¡å‘¼å« callback æ™‚è¦å‚³å…¥çš„ç´¯åŠ å™¨åˆå§‹å€¼ã€‚è‹¥æ²’æœ‰æä¾›åˆå§‹å€¼ï¼Œå‰‡åŸé™£åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ å°‡æœƒè¢«ç•¶ä½œåˆå§‹çš„ç´¯åŠ å™¨ã€‚\n","description":"","tags":null,"title":"filter, map and reduce in JS","uri":"/posts/java_script_method/"}]
